Index: smartfarm_page/urls.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from django.urls import path\r\nfrom requests import request\r\n\r\nfrom . import views\r\nurlpatterns = [\r\n    path('', views.index, name='main'),\r\n    # str_smartfarm\r\n    path('str_smartfarm1/', views.str_smartfarm1, name='str_smartfarm1'),\r\n    path('input_number/', views.input_number, name=\"input_number\"),\r\n    path('ex_xlsx_download/', views.download_ex_file, name=\"ex_xlsx_download\"),\r\n    path('fileupload/', views.upload_file, name=\"fileupload\"),\r\n    path('input_value/', views.input_value, name=\"input_value\"),\r\n    path('str_smartfarm2/', views.str_smartfarm2, name='str_smartfarm2'),\r\n    path('API_doc_download/', views.download_API_file, name=\"API_doc_download\"),\r\n    path('str_smartfarm1/str_smartfarm2/', views.str_smartfarm2, name='str_smartfarm2'),\r\n    # kids_pattern\r\n    path('kids_pattern1/', views.kids_pattern1, name='kids_pattern1'),\r\n    path('result/', views.result, name='result'),\r\n    path('result/pick_date', views.pick_date, name=\"pick_date\"),\r\n    path('result/pick_part', views.pick_part, name=\"pick_part\"),\r\n    path('result/pick_month', views.pick_month, name=\"pick_month\"),\r\n    path('kid_data_fileupload/', views.kid_data_fileupload, name=\"kid_data_fileupload\"),\r\n    path('kid_data_fileupload/kid_data_upload', views.kid_data_upload, name=\"kid_data_upload\"),\r\n    path('kid_data_fileupload/input_kid_data', views.input_kid_data, name=\"input_kid_data\"),\r\n    # covid19\r\n    path('covid19/', views.covid19, name='covid19'),\r\n]
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- smartfarm_page/urls.py	(revision 90895c301d44eee15bce21b31d3afd61a6f8328b)
+++ smartfarm_page/urls.py	(date 1646889633281)
@@ -15,13 +15,13 @@
     path('str_smartfarm1/str_smartfarm2/', views.str_smartfarm2, name='str_smartfarm2'),
     # kids_pattern
     path('kids_pattern1/', views.kids_pattern1, name='kids_pattern1'),
-    path('result/', views.result, name='result'),
-    path('result/pick_date', views.pick_date, name="pick_date"),
-    path('result/pick_part', views.pick_part, name="pick_part"),
-    path('result/pick_month', views.pick_month, name="pick_month"),
-    path('kid_data_fileupload/', views.kid_data_fileupload, name="kid_data_fileupload"),
-    path('kid_data_fileupload/kid_data_upload', views.kid_data_upload, name="kid_data_upload"),
-    path('kid_data_fileupload/input_kid_data', views.input_kid_data, name="input_kid_data"),
+    path('kids_result/', views.kids_result, name='kids_result'),
+    path('kids_result/pick_date', views.pick_date, name="pick_date"),
+    path('kids_result/pick_part', views.pick_part, name="pick_part"),
+    path('kids_result/pick_month', views.pick_month, name="pick_month"),
+    path('kids_data_fileupload/', views.kids_data_fileupload, name="kids_data_fileupload"),
+    path('kids_data_fileupload/kids_data_upload', views.kids_data_upload, name="kids_data_upload"),
+    path('kids_data_fileupload/input_kids_data', views.input_kids_data, name="input_kids_data"),
     # covid19
     path('covid19/', views.covid19, name='covid19'),
 ]
\ No newline at end of file
Index: smartfarm_page/views.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from django.shortcuts import render, redirect\r\nfrom .models import AllKids\r\nfrom .models import All\r\n\r\n# 앱에서 어떤 기능을 할지에 대한 메인 로직을 담당하는 파일\r\n\r\n# open urls\r\ndef index(request):\r\n    return render(request, 'index.html')\r\n\r\ndef str_smartfarm1(request):\r\n    return render(request, 'str_smartfarm1.html')\r\n\r\ndef kids_pattern1(request):\r\n    return render(request, 'kids_pattern1.html')\r\n\r\ndef covid19(request):\r\n    graph_dict = covid_graph()\r\n    news_lst = news_crawling()\r\n    return render(request, 'covid19.html', context={'graph_dict':graph_dict, 'news_lst':news_lst})\r\n\r\ndef str_smartfarm2(request):\r\n    return render(request, 'str_smartfarm2.html')\r\n\r\n## kids_pattern\r\nfrom .models import AllKids\r\nfrom .models import All\r\nimport pandas as pd\r\ndef result(request):\r\n    students = AllKids.objects.values()\r\n    global Name2\r\n    Name2 = request.POST['name']\r\n    global center\r\n    center = request.POST['C_name']\r\n    global class_\r\n    class_ = request.POST['class']\r\n    global birth\r\n    birth = request.POST['password']\r\n    global a\r\n    a=AllKids.objects.filter(name=Name2).values('name','어린이집','반','생년월일','성별','성향')\r\n    global kid_all_data\r\n    ab=pd.DataFrame(list(AllKids.objects.values('name','어린이집','반','생년월일','성별','성향')))\r\n    bc=pd.DataFrame(list(All.objects.values('heartrate', 'sc_field', 'error', 'zsc', 'day', 'time', 'week', 'km','cal', 'date','name')))\r\n    kid_all_data = pd.merge(bc, ab, on='name', how='left')\r\n    kid_all_data.drop_duplicates(['heartrate', 'sc_field', 'date','km','name'], keep='last', inplace=True, ignore_index=True)\r\n\r\n    if AllKids.objects.filter(name=Name2,어린이집=center, 반=class_, 생년월일=birth).exists():\r\n        not_exist = False\r\n    else:\r\n        not_exist = True\r\n    if AllKids.objects.filter(성향='외향적'):\r\n        E = True\r\n    else:\r\n        E = False\r\n    # 측정정보\r\n    kid_d = pd.DataFrame(list(All.objects.filter(name=Name2).values('heartrate', 'sc_field', 'error', 'zsc', 'day', 'time', 'week','name','cal','km')))\r\n    HR=list(kid_d[\"heartrate\"])\r\n    step = list(kid_d[\"sc_field\"])\r\n    day = list(kid_d[\"day\"])\r\n    time = list(kid_d[\"time\"])\r\n    week = list(kid_d[\"week\"])\r\n    cal = list(kid_d[\"cal\"])\r\n    km = list(kid_d[\"km\"])\r\n    zsc = list(kid_d[\"zsc\"])\r\n    return render(request, 'result.html', {\"students\": students, \"name\":Name2,\"not_exist\":not_exist,\"birth\":birth,\"a\":a,\"E\":E,\r\n                                           \"kid_d\":kid_d,\"step\":step,\"day\":day,\"time\":time,\"week\":week,\"hr\":HR,\"cal\":cal,\"km\":km,\"zsc\":zsc})\r\n\r\n# 일, 월, 주 선택 > 주데이터 뽑기\r\n\r\nimport numpy\r\nfrom .models import AllKids\r\nfrom .models import All\r\ndef pick_part(request):\r\n    global Name2; global center; global class_; global birth ; global a;\r\n    global pick; global kid_all_data;\r\n    pick = request.POST.getlist('day[]')\r\n    hr_kid = []; sc_kid = []; zsc_kid = []; km_kid = []; cal_kid = [];hr_all = [];sc_all = [];\r\n    heartrate=[]; stepcount = []; max_zsc=[]; min_zsc=[];zsc_all = [];km_all = [];cal_all = [];\r\n    ch_la=['0','1','2','3','4']\r\n    Active = False\r\n    inactive = False\r\n    normal = False\r\n    week = True\r\n    day = False\r\n    month = False\r\n    if pick == ['day']:\r\n        days = True\r\n        week = False\r\n        month = False\r\n    elif pick == ['week']:\r\n        days = False\r\n        week = True\r\n        month = False\r\n        # 전체 주별 평균값 구하기\r\n        hr_all=[]\r\n        sc_all = []\r\n        zsc_all = []\r\n        km_all = []\r\n        cal_all = []\r\n        mon_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == \"Mon\"),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]\r\n        hr_all.append(numpy.mean(mon_all[\"heartrate\"]))\r\n        sc_all.append(numpy.mean(mon_all[\"sc_field\"]))\r\n        km_all.append(numpy.mean(mon_all[\"km\"]))\r\n        cal_all.append(numpy.mean(mon_all[\"cal\"]))\r\n        zsc_all.append(numpy.mean(mon_all[\"zsc\"].replace(0,np.nan)))\r\n        tue_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == \"Tue\"),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]\r\n        hr_all.append(numpy.mean(tue_all[\"heartrate\"]))\r\n        sc_all.append(numpy.mean(tue_all[\"sc_field\"]))\r\n        km_all.append(numpy.mean(tue_all[\"km\"]))\r\n        cal_all.append(numpy.mean(tue_all[\"cal\"]))\r\n        zsc_all.append(numpy.mean(tue_all[\"zsc\"].replace(0,np.nan)))\r\n        wedn_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == \"Wed\"),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]\r\n        hr_all.append(numpy.mean(wedn_all[\"heartrate\"]))\r\n        sc_all.append(numpy.mean(wedn_all[\"sc_field\"]))\r\n        km_all.append(numpy.mean(wedn_all[\"km\"]))\r\n        cal_all.append(numpy.mean(wedn_all[\"cal\"]))\r\n        zsc_all.append(numpy.mean(wedn_all[\"zsc\"].replace(0,np.nan)))\r\n        thu_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == \"Thu\"),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]\r\n        hr_all.append(numpy.mean(thu_all[\"heartrate\"]))\r\n        sc_all.append(numpy.mean(thu_all[\"sc_field\"]))\r\n        km_all.append(numpy.mean(thu_all[\"km\"]))\r\n        cal_all.append(numpy.mean(thu_all[\"cal\"]))\r\n        zsc_all.append(numpy.mean(thu_all[\"zsc\"].replace(0,np.nan)))\r\n        fri_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == \"Fri\"),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]\r\n        hr_all.append(numpy.mean(fri_all[\"heartrate\"]))\r\n        sc_all.append(numpy.mean(fri_all[\"sc_field\"]))\r\n        km_all.append(numpy.mean(fri_all[\"km\"]))\r\n        cal_all.append(numpy.mean(fri_all[\"cal\"]))\r\n        zsc_all.append(numpy.mean(fri_all[\"zsc\"].replace(0,np.nan)))\r\n        # 개인 주별 평균값 구하기\r\n        hr_kid = []\r\n        sc_kid = []\r\n        zsc_kid = []\r\n        km_kid = []\r\n        cal_kid = []\r\n        mon_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == \"Mon\") & (kid_all_data['name']==Name2),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]\r\n        hr_kid.append(numpy.mean(mon_all[\"heartrate\"]))\r\n        sc_kid.append(numpy.mean(mon_all[\"sc_field\"]))\r\n        km_kid.append(numpy.mean(mon_all[\"km\"]))\r\n        cal_kid.append(numpy.mean(mon_all[\"cal\"]))\r\n        zsc_kid.append(numpy.mean(mon_all[\"zsc\"].replace(0,np.nan)))\r\n        tue_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == \"Tue\") & (kid_all_data['name']==Name2),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]\r\n        hr_kid.append(numpy.mean(tue_all[\"heartrate\"]))\r\n        sc_kid.append(numpy.mean(tue_all[\"sc_field\"]))\r\n        km_kid.append(numpy.mean(tue_all[\"km\"]))\r\n        cal_kid.append(numpy.mean(tue_all[\"cal\"]))\r\n        zsc_kid.append(numpy.mean(tue_all[\"zsc\"].replace(0,np.nan)))\r\n        wedn_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == \"Wed\") & (kid_all_data['name']==Name2),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]\r\n        hr_kid.append(numpy.mean(wedn_all[\"heartrate\"]))\r\n        sc_kid.append(numpy.mean(wedn_all[\"sc_field\"]))\r\n        km_kid.append(numpy.mean(wedn_all[\"km\"]))\r\n        cal_kid.append(numpy.mean(wedn_all[\"cal\"]))\r\n        zsc_kid.append(numpy.mean(wedn_all[\"zsc\"].replace(0,np.nan)))\r\n        thu_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == \"Thu\") & (kid_all_data['name']==Name2),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]\r\n        hr_kid.append(numpy.mean(thu_all[\"heartrate\"]))\r\n        sc_kid.append(numpy.mean(thu_all[\"sc_field\"]))\r\n        km_kid.append(numpy.mean(thu_all[\"km\"]))\r\n        cal_kid.append(numpy.mean(thu_all[\"cal\"]))\r\n        zsc_kid.append(numpy.mean(thu_all[\"zsc\"].replace(0,np.nan)))\r\n        fri_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == \"Fri\") & (kid_all_data['name']==Name2),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]\r\n        hr_kid.append(numpy.mean(fri_all[\"heartrate\"]))\r\n        sc_kid.append(numpy.mean(fri_all[\"sc_field\"]))\r\n        km_kid.append(numpy.mean(fri_all[\"km\"]))\r\n        cal_kid.append(numpy.mean(fri_all[\"cal\"]))\r\n        zsc_kid.append(numpy.mean(fri_all[\"zsc\"].replace(0,np.nan)))\r\n        ch_la = ['월요일', '화요일', '수요일', '목요일', '금요일']\r\n        pick='요일별 모아보기'\r\n        # 활동량 확인\r\n        all_zsc=numpy.nanmean(zsc_all)\r\n        kid_zsc = numpy.nanmean(zsc_kid)\r\n        zsc=float(all_zsc)-float(kid_zsc)\r\n        if zsc >= 0.06:\r\n            Active=False\r\n            inactive=True\r\n            normal = False\r\n        elif zsc <= -0.06:\r\n            Active = True\r\n            inactive = False\r\n            normal = False\r\n        else:\r\n            Active = False\r\n            inactive = False\r\n            normal = True\r\n        max_zsc = numpy.nanargmax(sc_kid)\r\n        max_zsc = ch_la[max_zsc]\r\n        min_zsc = numpy.nanargmin(sc_kid)\r\n        min_zsc = ch_la[min_zsc]\r\n        # 평균 심박수, 걸음수\r\n        heartrate=int(numpy.nanmean(hr_kid))\r\n        stepcount = int(numpy.nanmean(sc_kid))*6\r\n    elif pick ==['month']:\r\n        days = False\r\n        week = False\r\n        month = True\r\n    return render(request, 'result.html',{\"name\": Name2, \"birth\": birth, \"a\": a,\"days\":days,\"pick\":pick,\"ch_la\":ch_la,\"month\":month,\r\n                                          \"hr_kid\": hr_kid, \"sc_kid\": sc_kid, \"zsc_kid\": zsc_kid, \"km_kid\": km_kid, \"cal_kid\": cal_kid,\r\n                                          \"hr_all\": hr_all, \"sc_all\": sc_all, \"zsc_all\": zsc_all, \"km_all\": km_all,\"cal_all\": cal_all,\r\n                                          \"pick\":pick,\"heartrate\":heartrate,\"stepcount\":stepcount,\"Active\":Active,\"inactive\":inactive,\r\n                                          \"normal\":normal,\"max_zsc\":max_zsc,\"min_zsc\":min_zsc,\"week\":week,\"month\":month,\"day\":day})\r\n\r\n\r\n# 하루 데이터 뽑기\r\ndef pick_date(request):\r\n    global Name2; global center; global class_; global birth ; global a; global kid_all_data;\r\n    ch_la = ['10시', '11시', '12시', '13시', '14시', '15시', '16시']\r\n    date_ = request.POST['date_pick']\r\n    print(\"date\",date_)\r\n    pick = \"하루 데이터 보기\"\r\n    week=False\r\n    day=True\r\n    month=False\r\n    hr_kid = []; sc_kid = []; zsc_kid = []; km_kid = []; cal_kid = [];hr_all = [];sc_all = [];\r\n    heartrate=[]; stepcount = []; max_zsc=[]; min_zsc=[];zsc_all = [];km_all = [];cal_all = [];\r\n    Active = False\r\n    inactive = False\r\n    normal = False\r\n    if All.objects.filter(name=Name2, day=date_).exists():\r\n        not_day = False\r\n        kid_all_data['day']=kid_all_data['day'].astype('datetime64[s]')\r\n        all_data = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['day'] == date_),['heartrate', 'sc_field', 'error', 'zsc', 'day', 'time', 'week', 'km','cal', 'date']]\r\n        all_data['km'] = all_data['km'].fillna(value=0)\r\n        all_data['cal'] = all_data['cal'].fillna(value=0)\r\n        data_date = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['day'] == date_) & (kid_all_data['name']==Name2),['heartrate', 'sc_field', 'error', 'zsc', 'day', 'time', 'week', 'km','cal', 'date']]\r\n        data_date['km'] = data_date['km'].fillna(value=0)\r\n        data_date['cal'] = data_date['cal'].fillna(value=0)\r\n        # 개인 1시간 평균\r\n        h_data = data_date.set_index('date')\r\n        h_dat2 = h_data.resample('1H').mean()\r\n        h_dat2 = h_dat2.reset_index()\r\n        h_dat2['time'] = h_dat2['date'].dt.hour\r\n        # 전체 1시간 평균\r\n        all_ = all_data.set_index('date')\r\n        all2 = all_.resample('1H').mean()\r\n        all2 = all2.reset_index()\r\n        all2['time'] = all2['date'].dt.hour\r\n        aaaa = pd.DataFrame()\r\n        aaaa['time'] = [10, 11, 12, 13, 14, 15, 16]\r\n        aaaa = pd.merge(aaaa, h_dat2, on='time', how='left')\r\n        aaaa = pd.merge(aaaa, all2, on='time', how='left')\r\n        aaaa = aaaa.fillna(value=0)\r\n        # 개인 정보\r\n        hr_kid = list(aaaa['heartrate_x'])\r\n        sc_kid = list(aaaa['sc_field_x'])\r\n        zsc_kid = list(aaaa['zsc_x'].replace(0,np.nan))\r\n        km_kid = list(aaaa['km_x'])\r\n        cal_kid = list(aaaa['cal_x'])\r\n        # 전체 정보\r\n        # day_all = list(aaaa['time_y'].astype('str'))\r\n        hr_all = list(aaaa['heartrate_y'])\r\n        sc_all = list(aaaa['sc_field_y'])\r\n        zsc_all = list(aaaa['zsc_y'].replace(0,np.nan))\r\n        km_all = list(aaaa['km_y'])\r\n        cal_all = list(aaaa['cal_y'])\r\n        ## 전체평균\r\n        pick = str(date_) + \"일\"\r\n        #활동량 확인\r\n        all_zsc = numpy.nanmean(zsc_all)\r\n        kid_zsc = numpy.nanmean(zsc_kid)\r\n        zsc = float(all_zsc) - float(kid_zsc)\r\n        if zsc >= 0.1:\r\n            Active = False\r\n            inactive = True\r\n            normal = False\r\n        elif zsc <= -0.1:\r\n            Active = True\r\n            inactive = False\r\n            normal = False\r\n        else:\r\n            Active = False\r\n            inactive = False\r\n            normal = True\r\n        sc_kid_ = list(aaaa['sc_field_x'].replace(0, np.nan))\r\n        max_zsc = numpy.nanargmax(sc_kid_)\r\n        max_zsc = ch_la[max_zsc]\r\n        min_zsc = numpy.nanargmin(sc_kid_)\r\n        min_zsc = ch_la[min_zsc]\r\n        # 평균 심박수, 걸음수\r\n        hr_kid_mean = list(aaaa['heartrate_x'].replace(0, np.nan))\r\n        sc_kid_mean = list(aaaa['sc_field_x'].replace(0, np.nan))\r\n        heartrate = int(numpy.nanmean(hr_kid_mean))\r\n        stepcount = int(numpy.nanmean(sc_kid_mean))*6\r\n    else:\r\n        not_day = True\r\n    return render(request, 'result.html', {\"name\": Name2, \"birth\": birth, \"a\": a, \"not_day\": not_day,\"ch_la\":ch_la,\r\n                                           \"hr_kid\": hr_kid, \"sc_kid\": sc_kid, \"zsc_kid\": zsc_kid, \"km_kid\": km_kid,\"cal_kid\": cal_kid,\r\n                                           \"hr_all\": hr_all, \"sc_all\": sc_all, \"zsc_all\": zsc_all, \"km_all\": km_all,\"cal_all\": cal_all,\r\n                                           \"pick\":pick,\"heartrate\":heartrate,\"stepcount\":stepcount,\"Active\":Active,\"inactive\":inactive,\r\n                                           \"normal\":normal,\"max_zsc\":max_zsc,\"min_zsc\":min_zsc,\"week\":week,\"month\":month,\"day\":day})\r\n# 월데이터 뽑기\r\ndef pick_month(request):\r\n    global Name2; global center; global class_; global birth ; global a; global kid_all_data;\r\n    month_ = request.POST['month']\r\n    month_p = pd.DataFrame()\r\n    month_p['month'] = list(month_)\r\n    pick = '월별로 보기'\r\n    week = False\r\n    day = False\r\n    month = True\r\n    #원하는 월 가져오기\r\n    # 전체\r\n    all_data = kid_all_data.loc[(kid_all_data['반'] == class_),['heartrate', 'sc_field', 'error', 'zsc', 'day', 'time', 'week', 'km','cal', 'date']]\r\n    all_month = all_data.set_index('date')\r\n    all_month = all_month.fillna(value=0)\r\n    all_month_2 = all_month.resample('1D').mean()\r\n    all_month_2 = all_month_2.reset_index()\r\n    all_month_2['month'] = all_month_2['date'].dt.month.astype('str')\r\n    all_month_2['month'] = all_month_2['month'].astype('str')\r\n    all_month_2 = all_month_2.loc[all_month_2['month'] == month_,['heartrate', 'sc_field', 'km', 'cal', 'month', 'date', 'zsc']]\r\n    all_month_2 = all_month_2.fillna(value=0)\r\n    # 개인\r\n    data_month = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['name']==Name2),['heartrate', 'sc_field', 'error', 'zsc', 'day', 'time', 'week', 'km','cal', 'date']]\r\n    month_kid = data_month.set_index('date')\r\n    month_kid = month_kid.fillna(value=0)\r\n    month_kid_2 = month_kid.resample('1D').mean()\r\n    month_kid_2 = month_kid_2.reset_index()\r\n    month_kid_2['month'] = month_kid_2['date'].dt.month\r\n    month_kid_2['month'] = month_kid_2['month'].astype('str')\r\n    month_kid_2 = month_kid_2.loc[month_kid_2['month'] == month_, ['heartrate', 'sc_field', 'km', 'cal', 'month', 'date', 'zsc']]\r\n    month_kid_2 = month_kid_2.fillna(value=0)\r\n    # merge 합\r\n    month_p = pd.merge(all_month_2, month_kid_2, on=['date'])\r\n    month_p['day'] = month_p['date'].dt.day\r\n    month_p = month_p.fillna(value=0)\r\n    # 각 데이터 추출\r\n    # 개인 정보\r\n    hr_kid = list(month_p['heartrate_x'])\r\n    sc_kid = list(month_p['sc_field_x'])\r\n    zsc_kid = list(month_p['zsc_x'].replace(0,np.nan))\r\n    km_kid = list(month_p['km_x'])\r\n    cal_kid = list(month_p['cal_x'])\r\n    # 전체 정보\r\n    hr_all = list(month_p['heartrate_y'])\r\n    sc_all = list(month_p['sc_field_y'])\r\n    zsc_all = list(month_p['zsc_y'].replace(0,np.nan))\r\n    km_all = list(month_p['km_y'])\r\n    cal_all = list(month_p['cal_y'])\r\n    # 날\r\n    ch_la=list(month_p['day'])\r\n    pick = str(month_) + '월'\r\n    # 활동량 확인\r\n    all_zsc = numpy.nanmean(zsc_all)\r\n    kid_zsc = numpy.nanmean(zsc_kid)\r\n    zsc = float(all_zsc) - float(kid_zsc)\r\n    if zsc >= 0.1:\r\n        Active = False\r\n        inactive = True\r\n        normal = False\r\n    elif zsc <= -0.1:\r\n        Active = True\r\n        inactive = False\r\n        normal = False\r\n    else:\r\n        Active = False\r\n        inactive = False\r\n        normal = True\r\n    sc_kid_ =list(month_p['sc_field_x'].replace(0,np.nan))\r\n    max_zsc = numpy.nanargmax(sc_kid_)\r\n    max_zsc = (str(ch_la[max_zsc])+\"일\")\r\n    min_zsc = numpy.nanargmin(sc_kid_)\r\n    min_zsc = (str(ch_la[min_zsc])+\"일\")\r\n    # 평균 심박수, 걸음수\r\n    hr_kid_mean = list(month_p['heartrate_x'].replace(0, np.nan))\r\n    sc_kid_mean = list(month_p['sc_field_x'].replace(0, np.nan))\r\n    #hr_kids = hr_kid.replace(0, np.nan)\r\n    heartrate = int(numpy.nanmean(hr_kid_mean))\r\n    #sc_kids = sc_kid.replace(0, np.nan_mean)\r\n    stepcount = int(numpy.nanmean(sc_kid_mean))*6\r\n    ## 전체평균\r\n    #HR_all = numpy.mean(list(month_p[\"heartrate\"]))\r\n    return render(request, 'result.html', {\"name\": Name2, \"birth\": birth, \"a\": a, \"ch_la\":ch_la,\r\n                                           \"hr_kid\": hr_kid, \"sc_kid\": sc_kid, \"zsc_kid\": zsc_kid, \"km_kid\": km_kid,\"cal_kid\": cal_kid,\r\n                                           \"hr_all\": hr_all, \"sc_all\": sc_all, \"zsc_all\": zsc_all, \"km_all\": km_all,\"cal_all\": cal_all,\r\n                                           \"pick\":pick,\"heartrate\":heartrate,\"stepcount\":stepcount,\"Active\":Active,\"inactive\":inactive,\r\n                                           \"normal\":normal,\"max_zsc\":max_zsc,\"min_zsc\":min_zsc,\"week\":week,\"month\":month,\"day\":day})\r\n\r\n# 사용자 데이터 입력페이지\r\ndef kid_data_fileupload(request):\r\n    global pass_data\r\n    pass_data = request.POST['data_pass']\r\n    pw='1504'\r\n    if pass_data == pw:\r\n        not_pass=False\r\n    else:\r\n        not_pass=True\r\n    return render(request, 'kid_data_fileupload.html', {\"not_pass\":not_pass,\"pass_data\":pass_data})\r\n\r\nfrom .models import All\r\nfrom django.conf import settings\r\nimport io\r\nfrom sqlalchemy import create_engine\r\n# 데이터 입력받기\r\ndef kid_data_upload(request):\r\n    global data_df\r\n    file = request.FILES['upload_kid_data']\r\n    data_df = file\r\n    data_df = pd.read_csv(io.BytesIO(file.read()),encoding='cp949')\r\n    print(data_df)\r\n    return render(request, 'kid_data_fileupload.html',{\"file\":file,\"data_df\":data_df})\r\n\r\n\r\n# 데이터 db에 저장\r\nfrom .models import All\r\ndef input_kid_data(request):\r\n    global data_df\r\n\r\n    data_df = data_df[['Date', 'HeartRate', 'Km', 'sc_', 'Cal',\"ID\",\"Day\",\"Time\",'week',\"error\",\"Name\",\"Zsc\"]]\r\n    print(data_df)\r\n    database_url = 'mysql://{user}:{password}@localhost/{database_name}'.format(\r\n        user=settings.DATABASES['kids_db']['USER'],\r\n        password=settings.DATABASES['kids_db']['PASSWORD'],\r\n        database_name=settings.DATABASES['kids_db']['NAME'],\r\n    )\r\n    engine = create_engine(database_url, echo=False)\r\n    data_df.to_sql(name='kids_data', con=engine, index=False, if_exists='append')\r\n    Succeeded=True\r\n    return render(request, 'kid_data_fileupload.html',{\"Succeeded\":Succeeded,\"data_df\":data_df})\r\n\r\n\r\n\r\n## str_smartfarm\r\n# file upload\r\nfrom django.shortcuts import render\r\nfrom django.utils import timezone\r\nimport copy\r\n\r\n# ID(phone number) 전역변수로 할당\r\nphone_id = '0'\r\nnow = timezone.now()\r\n\r\nfrom .models import Environment\r\nfrom django.conf import settings\r\nimport io\r\nfrom sqlalchemy import create_engine\r\n\r\ndef upload_file(request):\r\n    if request.method == 'POST':        # POST 방식이면, 데이터가 담긴 제출된 form으로 간주\r\n        file = request.FILES['uploadFromPC'].file\r\n        data_df = file\r\n        try:\r\n            data_df = pd.read_excel(io.BytesIO(file.read()))\r\n        except:\r\n            render(request, 'str_smartfarm1.html')\r\n\r\n        data_df['user_num'] = phone_id\r\n        global now\r\n        now = timezone.now()\r\n        now = copy.deepcopy(now)\r\n        data_df['input_time'] = now\r\n\r\n        data_df = data_df[['user_num', '시설ID', '수집일', '주차', '외부 일사량', '내부온도', '내부습도', '내부CO2', 'input_time']]\r\n        data_df.rename(columns = {'시설ID':'farm_id', '수집일':'date', '주차':'week', '외부 일사량':'out_isolation', '내부온도':'in_temp', '내부습도':'in_hum', '내부CO2':'in_CO2'}, inplace=True)\r\n        database_url = 'mysql://{user}:{password}@localhost/{database_name}'.format(\r\n            user=settings.DATABASES['default']['USER'],\r\n            password=settings.DATABASES['default']['PASSWORD'],\r\n            database_name=settings.DATABASES['default']['NAME'],\r\n        )\r\n        engine = create_engine(database_url, echo=False)\r\n        data_df.to_sql(name='environment', con=engine, index=False, if_exists='append')\r\n        return redirect('fileupload')\r\n    else:\r\n        return render(request, 'str_smartfarm1.html')\r\n\r\n# 사용자가 직접 입력한 생육변수 데이터 가져와서 db에 저장 후 예측값 return\r\nfrom .models import Growth\r\nfrom .models import BestFarmMean\r\nfrom .models import PredictResult\r\nimport numpy as np\r\nfrom datetime import timedelta\r\n\r\ndef input_value(request):\r\n    if request.method == 'POST':\r\n        week1 = request.POST.getlist('week1[]')\r\n        week1 = list(map(float, week1))\r\n        week2 = request.POST.getlist('week2[]')\r\n        week2 = list(map(float, week2))\r\n\r\n        # 데이터 DB Growth 테이블에 저장\r\n        user_obj = Str_user.objects.get(user_id = phone_id)\r\n        farm_grow_1 = Growth(user_number=user_obj, input_time=now, chojang=week1[0],\r\n                             max_yeopjang=week1[1], yeaoppok=week1[2],\r\n                             yeopbyeongjang=week1[3], yeopsu=week1[4],\r\n                             stem_thick=week1[5], fruit=week1[6])\r\n        farm_grow_2 = Growth(user_number=user_obj, input_time=now, chojang=week2[0],\r\n                             max_yeopjang=week2[1], yeaoppok=week2[2],\r\n                             yeopbyeongjang=week2[3], yeopsu=week2[4],\r\n                             stem_thick=week2[5], fruit=week2[6])\r\n        farm_grow_1.save()\r\n        farm_grow_2.save()\r\n\r\n        result = data_analysis(week1, week2)\r\n\r\n        # 그래프 그리기 위해 해당 농가 환경변수 data 정리\r\n        env_data = Environment.objects.filter(\r\n            Q(user_num=phone_id) & Q(input_time__range=[now - timedelta(seconds=1), now + timedelta(seconds=1)]))\r\n        df = read_frame(env_data)\r\n        myFarm_date = list(df['week'])\r\n        acInso = list(np.round(list(df['out_isolation']), 2))\r\n        inTemp = list(np.round(list(df['in_temp']), 2))\r\n        inHum = list(np.round(list(df['in_hum']), 2))\r\n        inCO2 = list(np.round(list(df['in_co2']), 2))\r\n        myFarm_dict = {'date': myFarm_date, 'acInso': acInso, 'inTemp': inTemp, 'inHum': inHum, 'inCO2': inCO2}\r\n\r\n        # 우수 농가 환경변수 data 정리\r\n        bestfarm_data = BestFarmMean.objects.all()\r\n        df = read_frame(bestfarm_data)\r\n        date = list(df['week'])\r\n        # date = [dd.strftime('%Y-%m-%d') for dd in date]\r\n        ## label을 기본농가 시작점 ~ 우수농가 끝점으로 맞추기\r\n        start = date.index(myFarm_date[0])\r\n        date = date[start:]\r\n        acInso = list(np.round(list(df['acinso']), 2))\r\n        acInso = acInso[start:]\r\n        inTemp = list(np.round(list(df['intemp']), 2))\r\n        inTemp = inTemp[start:]\r\n        inHum = list(np.round(list(df['inhum']), 2))\r\n        inHum = inHum[start:]\r\n        inCO2 = list(np.round(list(df['inco2']), 2))\r\n        inCO2 = inCO2[start:]\r\n        bestFarm_dict = {'date': date, 'acInso': acInso, 'inTemp': inTemp, 'inHum': inHum, 'inCO2': inCO2}\r\n\r\n        return render(request, 'str_smartfarm2.html', context={'predict_result': result, 'graph_data': myFarm_dict, 'bestFarm_data': bestFarm_dict})\r\n\r\n    else:\r\n        return render(request, 'str_smartfarm1.html')\r\n\r\nimport os\r\nimport pandas as pd\r\nfrom django.db.models import Q\r\nfrom django_pandas.io import read_frame\r\nfrom tensorflow.keras.models import load_model\r\nfrom sklearn.preprocessing import StandardScaler\r\n\r\n# trained model 가져와 predict 해서 착과수 예측\r\ndef data_analysis(week1, week2):\r\n    # DB에서 사용자가 업로드한 데이터 가져오기 - 범위 : 2sec\r\n    env_data = Environment.objects.filter(Q(user_num=phone_id) & Q(input_time__range=[now - timedelta(seconds=1), now + timedelta(seconds=1)]))\r\n    df = read_frame(env_data)\r\n\r\n    # 데이터셋 생성\r\n    env_set = df.drop(columns=['env_index', 'user_num', 'farm_id', 'date', 'week', 'input_time']).values\r\n    growth_set = np.array([week1, week2])\r\n    to_pred_data = np.hstack((env_set[-2:], growth_set))\r\n\r\n    ### Feature Scaling\r\n    sc = StandardScaler()       # 입력 기능용 스케일러\r\n    data_scaled = sc.fit_transform(to_pred_data)\r\n    sc_predict = StandardScaler()       # 예측 대상용 스케일러\r\n    sc_predict.fit_transform(to_pred_data[:, 10:11])\r\n\r\n    X_test = []\r\n    X_test.append(data_scaled)\r\n    X_test = np.array(X_test)\r\n\r\n    ### Predict\r\n    model = load_model('./smartfarm_page/static/smartfarm_page/assets/LSTM_model.h5')\r\n    predictions_future = model.predict(X_test)\r\n\r\n    ### scaled -> actual\r\n    y_pred_future = sc_predict.inverse_transform(predictions_future)\r\n    result = round(y_pred_future[0][0], 2)\r\n\r\n    ### result DB에 저장\r\n    user_obj = Str_user.objects.get(user_id=phone_id)\r\n    pred_result = PredictResult(user_code=user_obj, lstm_result=result, predict_date = now)\r\n    pred_result.save()\r\n\r\n    return result\r\n\r\n# API 명세서 한글 파일 다운로드 기능\r\nfrom django.http import HttpResponse\r\nimport mimetypes\r\nimport urllib\r\n\r\ndef download_API_file(request):\r\n    file_path = './smartfarm_page/static/smartfarm_page/assets/공공융합플랫폼 API 기술명세서.hwp'\r\n    file_name = '공공융합플랫폼 API 기술명세서.hwp'\r\n    if os.path.exists(file_path):\r\n        with open(file_path, 'rb') as fh:\r\n            quote_file_url = urllib.parse.quote(file_name.encode('utf-8'))\r\n            response = HttpResponse(fh.read(), content_type=mimetypes.guess_type(file_name))\r\n            response['Content-Disposition'] = 'attachment;filename*=UTF-8\\'\\'%s' % quote_file_url\r\n            return response\r\n\r\ndef download_ex_file(request):\r\n    file_path = './smartfarm_page/static/smartfarm_page/assets/환경변수 데이터셋 Sample.xlsx'\r\n    file_name = '환경변수 데이터셋 Sample.xlsx'\r\n    if os.path.exists(file_path):\r\n        with open(file_path, 'rb') as fh:\r\n            quote_file_url = urllib.parse.quote(file_name.encode('utf-8'))\r\n            response = HttpResponse(fh.read(), content_type=mimetypes.guess_type(file_name))\r\n            response['Content-Disposition'] = 'attachment;filename*=UTF-8\\'\\'%s' % quote_file_url\r\n            return response\r\n\r\n# 네이버 뉴스 크롤링\r\nimport requests\r\nfrom bs4 import BeautifulSoup\r\n\r\ndef news_crawling():\r\n    raw = requests.get(\"https://search.naver.com/search.naver?where=news&sm=tab_jum&query=코로나\",\r\n                       headers={'User-Agent': 'Mozilla/5.0'}, verify=False)\r\n    html = BeautifulSoup(raw.text, \"html.parser\")\r\n    articles = html.select(\"ul.list_news > li\")\r\n\r\n    news_lst = []\r\n    num = 0\r\n    for ar in articles:\r\n        try:    # 기사 이미지 없는 경우 pass\r\n            image = ar.select_one('div > a > img')['src']\r\n        except:\r\n            continue\r\n        title = ar.select_one(\"a.news_tit\").text\r\n        time = ar.select_one(\"span.info\").text\r\n        link = ar.select_one(\"a.news_tit\")['href']\r\n        pub = ar.select_one(\"a.info\").text.split(' ')[0].replace('언론사', '')\r\n        image = ar.select_one('div > a > img')['src']\r\n        if pub == '스포츠동아':\r\n            continue\r\n        news_lst.append({'title':title, 'pub':pub, 'time':time, 'link':link, 'image':image})\r\n        num += 1\r\n        if num == 6:\r\n            break\r\n    return news_lst\r\n\r\n# 코로나 확진자수 api 데이터 가져오기\r\nimport time\r\nfrom dateutil.parser import parse\r\nfrom urllib.parse import unquote\r\nimport xml.etree.ElementTree as el\r\nimport pandas as pd\r\nimport xml.etree.ElementTree as ET\r\nimport datetime\r\n\r\ndef covid_graph():\r\n    serviceURL = 'http://openapi.data.go.kr/openapi/service/rest/Covid19/getCovid19SidoInfStateJson'\r\n    # 인증키\r\n    serviceKey = 'wJJLUr7wt7dy1QImckWHqfneTIXSE7zW+O9NBD3289VJUF7tCq4XdyIhvS2vSXGEXDWDg/8ysAK0vYYQZfh+wg=='\r\n    # 서비스키가 utf8로 인코딩되어 있어서 unquote로 디코딩에서 get요청을 보내야 응답이 정상적으로 옵니다.\r\n    serviceKey_decode = unquote(serviceKey)\r\n\r\n    pageNo = '2'\r\n    numOfRows = '10'\r\n    startCreateDt = '20220101'\r\n    endCreateDt = time.strftime('%Y%m%d', time.localtime(time.time()))\r\n    # api문서대로 파라미터를 설정합니다\r\n    parameters = {\"serviceKey\": serviceKey_decode, \"pageNo\": pageNo, \"numOfRows\": numOfRows,\r\n                  \"startCreateDt\": startCreateDt, \"endCreateDt\": endCreateDt}\r\n\r\n    # get요청을 보냅니다.\r\n    response = requests.get(serviceURL, params=parameters)\r\n\r\n    # 200이면 서버응답이 제대로 되었다는 뜻\r\n    if response.status_code == 200:\r\n        tree = ET.fromstring(response.text)\r\n        iter = tree.iter(tag=\"item\")\r\n\r\n        df = pd.DataFrame()\r\n\r\n        for element in iter:\r\n            element_dict = {}\r\n\r\n            element_dict['일시'] = element.find('createDt').text  # 일시\r\n            element_dict['사망자 수'] = element.find('deathCnt').text  # 사망자\r\n            element_dict['시도명'] = element.find('gubun').text  # 지역\r\n            element_dict['전일대비 증감'] = element.find('incDec').text  # 전일대비증감수\r\n            element_dict['확진자 수'] = element.find('defCnt').text  # 확진자수\r\n            element_dict['지역발생 수'] = element.find('localOccCnt').text  # 지역발생수\r\n            element_dict['해외유입'] = element.find('overFlowCnt').text  # 해외유입수\r\n            element_dict['10만명당 발생률'] = element.find('qurRate').text  # 10만명당 발생률\r\n            element_dict['id'] = element.find('seq').text  # 게시글 번호(고유값)\r\n            element_dict['기준일시'] = element.find('stdDay')  # 기준일시\r\n            df = df.append(element_dict, ignore_index=True)\r\n\r\n        df['일시'] = pd.to_datetime(df['일시'], format=\"%Y %m %d\")\r\n        df['사망자 수'] = pd.to_numeric(df['사망자 수'])\r\n        df['전일대비 증감'] = pd.to_numeric(df['전일대비 증감'])\r\n        df['확진자 수'] = pd.to_numeric(df['확진자 수'])\r\n        df['지역발생 수'] = pd.to_numeric(df['지역발생 수'])\r\n        df['해외유입'] = pd.to_numeric(df['해외유입'])\r\n        # df['10만명당 발생률'] = pd.to_numeric(df['10만명당 발생률'])\r\n\r\n        df['일시'] = df[\"일시\"].dt.strftime(\"%Y-%m-%d\")\r\n\r\n        now = datetime.datetime.now()\r\n        nowDate = now.strftime('%Y-%m-%d')\r\n\r\n        total_covid_df = df.query(\"(시도명 == '합계') and (일시 == @nowDate)\")\r\n\r\n        if total_covid_df.empty:\r\n            yesterday = (now - datetime.timedelta(days=1)).strftime('%Y-%m-%d')\r\n            total_covid_df = df.query(\"(시도명 == '합계') and (일시 == @yesterday)\")\r\n\r\n        total_num = total_covid_df['확진자 수'].iloc[0]\r\n        region_num = total_covid_df['지역발생 수'].iloc[0]\r\n        abroad_num = total_covid_df['해외유입'].iloc[0]\r\n        today_total_num = region_num + abroad_num\r\n\r\n        change_covid_df = df.query(\"시도명 == '합계'\")\r\n        change_covid_date = list( change_covid_df['일시'][:30])\r\n        change_covid_patient = list(change_covid_df['전일대비 증감'][:30])\r\n        change_acc_covid_patient = list(change_covid_df['확진자 수'])\r\n        today_acc_covid_patient = change_acc_covid_patient[0]\r\n\r\n        covid_graph_dict = {'covid_total' : format(total_num,',d'), 'region_num' : region_num, 'abroad_num': format(abroad_num, ',d'), 'today_total_num': format(today_total_num,',d'), 'change_covid_date' :change_covid_date[::-1],\r\n                                                         'change_covid_patient' : change_covid_patient[::-1], \"today_acc_covid_patient\" : format(today_acc_covid_patient,',d')}\r\n        return covid_graph_dict\r\n\r\nfrom .models import Str_user\r\n\r\ndef input_number(request):\r\n    global phone_id\r\n    if request.method == 'POST':\r\n        phone_id = request.POST.get('phone_number')\r\n        try:\r\n            user_num = Str_user.objects.get(user_id = phone_id)\r\n        except Str_user.DoesNotExist:\r\n            user_num = Str_user(user_id = phone_id)\r\n            user_num.save()\r\n        # auth.login(request, user)\r\n    return render(request, 'str_smartfarm1.html',{\"phone_number\":phone_id})
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- smartfarm_page/views.py	(revision 90895c301d44eee15bce21b31d3afd61a6f8328b)
+++ smartfarm_page/views.py	(date 1646889633282)
@@ -26,7 +26,25 @@
 from .models import AllKids
 from .models import All
 import pandas as pd
-def result(request):
+# 리스트내 결측값 인덱스 찾기
+def findIndexInList(list_name, value):
+    n = -1
+    result = []
+    while True:
+        if list_name[n+1:].count(value) == 0:
+            break
+        n += list_name[n+1:].index(value) + 1
+        result.append(n)
+    return result
+
+# 리스트내 결측치를 0으로 변환
+def nan_0(list_name,null_list):
+    for i in range(0,len(null_list)):
+        list_name[null_list[i]]=0
+    return list_name
+
+# 사용자의 입력정보 확인 및 정보비교
+def kids_result(request):
     students = AllKids.objects.values()
     global Name2
     Name2 = request.POST['name']
@@ -43,7 +61,6 @@
     bc=pd.DataFrame(list(All.objects.values('heartrate', 'sc_field', 'error', 'zsc', 'day', 'time', 'week', 'km','cal', 'date','name')))
     kid_all_data = pd.merge(bc, ab, on='name', how='left')
     kid_all_data.drop_duplicates(['heartrate', 'sc_field', 'date','km','name'], keep='last', inplace=True, ignore_index=True)
-
     if AllKids.objects.filter(name=Name2,어린이집=center, 반=class_, 생년월일=birth).exists():
         not_exist = False
     else:
@@ -62,27 +79,32 @@
     cal = list(kid_d["cal"])
     km = list(kid_d["km"])
     zsc = list(kid_d["zsc"])
-    return render(request, 'result.html', {"students": students, "name":Name2,"not_exist":not_exist,"birth":birth,"a":a,"E":E,
-                                           "kid_d":kid_d,"step":step,"day":day,"time":time,"week":week,"hr":HR,"cal":cal,"km":km,"zsc":zsc})
+    N_pick_type="N"
+    return render(request, 'kids_result.html', {"students": students, "name":Name2,"not_exist":not_exist,"birth":birth,"a":a,"E":E,
+                                           "kid_d":kid_d,"step":step,"day":day,"time":time,"week":week,"hr":HR,"cal":cal,"km":km,"zsc":zsc,"N_pick_type":N_pick_type})
 
-# 일, 월, 주 선택 > 주데이터 뽑기
 
+
+# 시각화 데이터 [일, 월, 주 선택]
+# 1. 주데이터 뽑기
 import numpy
 from .models import AllKids
 from .models import All
 def pick_part(request):
+    N_pick_type = "Y"
     global Name2; global center; global class_; global birth ; global a;
     global pick; global kid_all_data;
+    week = True;
+    day = False;
+    month = False;
     pick = request.POST.getlist('day[]')
     hr_kid = []; sc_kid = []; zsc_kid = []; km_kid = []; cal_kid = [];hr_all = [];sc_all = [];
     heartrate=[]; stepcount = []; max_zsc=[]; min_zsc=[];zsc_all = [];km_all = [];cal_all = [];
+    hr_kid_1mean = [];sc_kid_1mean = [];hr_all_1mean = []; sc_all_1mean = []; km_kid_1mean = []; cal_kid_1mean = []; km_all_1mean = []; cal_all_1mean = []
     ch_la=['0','1','2','3','4']
-    Active = False
-    inactive = False
-    normal = False
-    week = True
-    day = False
-    month = False
+    Active = 0;
+    sc_hr = 0;
+    cal_km = 0;
     if pick == ['day']:
         days = True
         week = False
@@ -92,128 +114,181 @@
         week = True
         month = False
         # 전체 주별 평균값 구하기
-        hr_all=[]
-        sc_all = []
-        zsc_all = []
-        km_all = []
-        cal_all = []
+        hr_all=[]; sc_all = []; zsc_all = []; km_all = []; cal_all = [];
         mon_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == "Mon"),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]
         hr_all.append(numpy.mean(mon_all["heartrate"]))
         sc_all.append(numpy.mean(mon_all["sc_field"]))
-        km_all.append(numpy.mean(mon_all["km"]))
-        cal_all.append(numpy.mean(mon_all["cal"]))
+        km_all.append(numpy.mean(mon_all["km"].replace(np.nan,0)))
+        cal_all.append(numpy.mean(mon_all["cal"].replace(np.nan,0)))
         zsc_all.append(numpy.mean(mon_all["zsc"].replace(0,np.nan)))
         tue_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == "Tue"),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]
         hr_all.append(numpy.mean(tue_all["heartrate"]))
         sc_all.append(numpy.mean(tue_all["sc_field"]))
-        km_all.append(numpy.mean(tue_all["km"]))
-        cal_all.append(numpy.mean(tue_all["cal"]))
+        km_all.append(numpy.mean(tue_all["km"].replace(np.nan,0)))
+        cal_all.append(numpy.mean(tue_all["cal"].replace(np.nan,0)))
         zsc_all.append(numpy.mean(tue_all["zsc"].replace(0,np.nan)))
         wedn_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == "Wed"),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]
         hr_all.append(numpy.mean(wedn_all["heartrate"]))
         sc_all.append(numpy.mean(wedn_all["sc_field"]))
-        km_all.append(numpy.mean(wedn_all["km"]))
-        cal_all.append(numpy.mean(wedn_all["cal"]))
+        km_all.append(numpy.mean(wedn_all["km"].replace(np.nan,0)))
+        cal_all.append(numpy.mean(wedn_all["cal"].replace(np.nan,0)))
         zsc_all.append(numpy.mean(wedn_all["zsc"].replace(0,np.nan)))
         thu_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == "Thu"),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]
         hr_all.append(numpy.mean(thu_all["heartrate"]))
         sc_all.append(numpy.mean(thu_all["sc_field"]))
-        km_all.append(numpy.mean(thu_all["km"]))
-        cal_all.append(numpy.mean(thu_all["cal"]))
+        km_all.append(numpy.mean(thu_all["km"].replace(np.nan,0)))
+        cal_all.append(numpy.mean(thu_all["cal"].replace(np.nan,0)))
         zsc_all.append(numpy.mean(thu_all["zsc"].replace(0,np.nan)))
         fri_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == "Fri"),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]
         hr_all.append(numpy.mean(fri_all["heartrate"]))
         sc_all.append(numpy.mean(fri_all["sc_field"]))
-        km_all.append(numpy.mean(fri_all["km"]))
-        cal_all.append(numpy.mean(fri_all["cal"]))
+        km_all.append(numpy.mean(fri_all["km"].replace(np.nan,0)))
+        cal_all.append(numpy.mean(fri_all["cal"].replace(np.nan,0)))
         zsc_all.append(numpy.mean(fri_all["zsc"].replace(0,np.nan)))
         # 개인 주별 평균값 구하기
-        hr_kid = []
-        sc_kid = []
-        zsc_kid = []
-        km_kid = []
-        cal_kid = []
+        hr_kid = []; sc_kid = []; zsc_kid = [];km_kid = []; cal_kid = [];
         mon_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == "Mon") & (kid_all_data['name']==Name2),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]
         hr_kid.append(numpy.mean(mon_all["heartrate"]))
         sc_kid.append(numpy.mean(mon_all["sc_field"]))
-        km_kid.append(numpy.mean(mon_all["km"]))
-        cal_kid.append(numpy.mean(mon_all["cal"]))
+        km_kid.append(numpy.mean(mon_all["km"].replace(np.nan,0)))
+        cal_kid.append(numpy.mean(mon_all["cal"].replace(np.nan,0)))
         zsc_kid.append(numpy.mean(mon_all["zsc"].replace(0,np.nan)))
         tue_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == "Tue") & (kid_all_data['name']==Name2),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]
         hr_kid.append(numpy.mean(tue_all["heartrate"]))
         sc_kid.append(numpy.mean(tue_all["sc_field"]))
-        km_kid.append(numpy.mean(tue_all["km"]))
-        cal_kid.append(numpy.mean(tue_all["cal"]))
+        km_kid.append(numpy.mean(tue_all["km"].replace(np.nan,0)))
+        cal_kid.append(numpy.mean(tue_all["cal"].replace(np.nan,0)))
         zsc_kid.append(numpy.mean(tue_all["zsc"].replace(0,np.nan)))
         wedn_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == "Wed") & (kid_all_data['name']==Name2),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]
         hr_kid.append(numpy.mean(wedn_all["heartrate"]))
         sc_kid.append(numpy.mean(wedn_all["sc_field"]))
-        km_kid.append(numpy.mean(wedn_all["km"]))
-        cal_kid.append(numpy.mean(wedn_all["cal"]))
+        km_kid.append(numpy.mean(wedn_all["km"].replace(np.nan,0)))
+        cal_kid.append(numpy.mean(wedn_all["cal"].replace(np.nan,0)))
         zsc_kid.append(numpy.mean(wedn_all["zsc"].replace(0,np.nan)))
         thu_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == "Thu") & (kid_all_data['name']==Name2),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]
         hr_kid.append(numpy.mean(thu_all["heartrate"]))
         sc_kid.append(numpy.mean(thu_all["sc_field"]))
-        km_kid.append(numpy.mean(thu_all["km"]))
-        cal_kid.append(numpy.mean(thu_all["cal"]))
+        km_kid.append(numpy.mean(thu_all["km"].replace(np.nan,0)))
+        cal_kid.append(numpy.mean(thu_all["cal"].replace(np.nan,0)))
         zsc_kid.append(numpy.mean(thu_all["zsc"].replace(0,np.nan)))
         fri_all = kid_all_data.loc[(kid_all_data['반'] == class_) & (kid_all_data['week'] == "Fri") & (kid_all_data['name']==Name2),['heartrate', 'sc_field', 'zsc', 'day', 'time', 'week', 'km','cal','반']]
         hr_kid.append(numpy.mean(fri_all["heartrate"]))
         sc_kid.append(numpy.mean(fri_all["sc_field"]))
-        km_kid.append(numpy.mean(fri_all["km"]))
-        cal_kid.append(numpy.mean(fri_all["cal"]))
+        km_kid.append(numpy.mean(fri_all["km"].replace(np.nan,0)))
+        cal_kid.append(numpy.mean(fri_all["cal"].replace(np.nan,0)))
         zsc_kid.append(numpy.mean(fri_all["zsc"].replace(0,np.nan)))
+        # 시각화 x축에 들어갈 라벨설정
         ch_la = ['월요일', '화요일', '수요일', '목요일', '금요일']
         pick='요일별 모아보기'
-        # 활동량 확인
+        # 활동량 확인 (게이지그래프)
         all_zsc=numpy.nanmean(zsc_all)
         kid_zsc = numpy.nanmean(zsc_kid)
         zsc=float(all_zsc)-float(kid_zsc)
-        if zsc >= 0.06:
-            Active=False
-            inactive=True
-            normal = False
-        elif zsc <= -0.06:
-            Active = True
-            inactive = False
-            normal = False
-        else:
-            Active = False
-            inactive = False
-            normal = True
+
         max_zsc = numpy.nanargmax(sc_kid)
         max_zsc = ch_la[max_zsc]
         min_zsc = numpy.nanargmin(sc_kid)
         min_zsc = ch_la[min_zsc]
-        # 평균 심박수, 걸음수
-        heartrate=int(numpy.nanmean(hr_kid))
-        stepcount = int(numpy.nanmean(sc_kid))*6
+        # 평균 심박수, 걸음수, km,cal
+        heartrate = int(numpy.nanmean(hr_kid))
+        stepcount = int(numpy.nanmean(sc_kid)) * 6
+        # 데이터 평균선 추가
+        hr_kid_1mean.append(int(numpy.nanmean(hr_kid)))
+        sc_kid_1mean.append(int(numpy.nanmean(sc_kid)))
+        km_kid_1mean.append(int(numpy.nanmean(km_kid)))
+        cal_kid_1mean.append(int(numpy.nanmean(cal_kid)))
+        hr_all_1mean.append(int(numpy.nanmean(hr_all)))
+        sc_all_1mean.append(int(numpy.nanmean(sc_all)))
+        km_all_1mean.append(int(numpy.nanmean(km_all)))
+        cal_all_1mean.append(int(numpy.nanmean(cal_all)))
+        hr_kid_1mean = hr_kid_1mean * len(km_kid);
+        sc_kid_1mean = sc_kid_1mean * len(km_kid);
+        hr_all_1mean = hr_all_1mean * len(km_kid);
+        sc_all_1mean = sc_all_1mean * len(km_kid);
+        km_kid_1mean = km_kid_1mean * len(km_kid);
+        cal_kid_1mean = cal_kid_1mean * len(km_kid);
+        km_all_1mean = km_all_1mean * len(km_kid);
+        cal_all_1mean = cal_all_1mean * len(km_kid);
+        # 비교데이터 준비
+        hr_kid_mean = numpy.nanmean(hr_kid)
+        sc_kid_mean = numpy.nanmean(sc_kid)
+        km_kid_mean = numpy.nanmean(km_kid)
+        cal_kid_mean = numpy.nanmean(cal_kid)
+        hr_all_mean = numpy.nanmean(hr_all)
+        sc_all_mean = numpy.nanmean(sc_all)
+        km_all_mean = numpy.nanmean(km_all)
+        cal_all_mean = numpy.nanmean(cal_all)
+        # 심박수, 걸음수 비교
+        if (hr_kid_mean > hr_all_mean) & (sc_kid_mean > sc_all_mean):
+            sc_hr = 1
+        elif (hr_kid_mean > hr_all_mean) & (sc_kid_mean < sc_all_mean):
+            sc_hr = 4
+        elif (hr_kid_mean < hr_all_mean) & (sc_kid_mean > sc_all_mean):
+            sc_hr = 2
+        elif (hr_kid_mean < hr_all_mean) & (sc_kid_mean < sc_all_mean):
+            sc_hr = 3
+        # cal, km비교
+        if (cal_kid_mean > cal_all_mean) & (km_kid_mean > km_all_mean):
+            cal_km = 1
+        elif (cal_kid_mean > cal_all_mean) & (km_kid_mean < km_all_mean):
+            cal_km = 4
+        elif (cal_kid_mean < cal_all_mean) & (km_kid_mean > km_all_mean):
+            cal_km = 2
+        elif (cal_kid_mean < cal_all_mean) & (km_kid_mean < km_all_mean):
+            cal_km = 3
+        # 아이의 활동량 구하기 (1 : 비교적 차분, 2: ,3:평균, 4: 비교적 활동적, 5: 활동적)
+        if (cal_km == 3 and sc_hr == 3):
+            Active = 1
+        elif (cal_km == 1 and sc_hr == 1):
+            Active = 5
+        elif (cal_km == 4 and sc_hr == 1) or (cal_km == 1 and sc_hr == 4):
+            Active = 4
+        else:
+            Active = 3
+        # 리스트 내 널 값을 0으로 변경하기
+        hr_kid = nan_0(hr_kid, findIndexInList(hr_kid, np.nan))
+        sc_kid = nan_0(sc_kid, findIndexInList(sc_kid, np.nan))
+        cal_kid = nan_0(cal_kid, findIndexInList(cal_kid, np.nan))
+        km_kid = nan_0(km_kid, findIndexInList(km_kid, np.nan))
+        hr_all = nan_0(hr_all, findIndexInList(hr_all, np.nan))
+        sc_all = nan_0(sc_all, findIndexInList(sc_all, np.nan))
+        cal_all = nan_0(cal_all, findIndexInList(cal_all, np.nan))
+        km_all = nan_0(km_all, findIndexInList(km_all, np.nan))
+        #int값으로 형변환
+        cal_kid = list(map(int, cal_kid))
+        hr_kid = list(map(int, hr_kid))
+        km_kid = list(map(int, km_kid))
+        sc_kid = list(map(int, sc_kid))
+        cal_all = list(map(int, cal_all))
+        hr_all = list(map(int, hr_all))
+        km_all = list(map(int, km_all))
+        sc_all = list(map(int, sc_all))
     elif pick ==['month']:
         days = False
         week = False
         month = True
-    return render(request, 'result.html',{"name": Name2, "birth": birth, "a": a,"days":days,"pick":pick,"ch_la":ch_la,"month":month,
+    return render(request, 'kids_result.html',{"name": Name2, "birth": birth, "a": a,"days":days,"pick":pick,"ch_la":ch_la,"month":month,
                                           "hr_kid": hr_kid, "sc_kid": sc_kid, "zsc_kid": zsc_kid, "km_kid": km_kid, "cal_kid": cal_kid,
-                                          "hr_all": hr_all, "sc_all": sc_all, "zsc_all": zsc_all, "km_all": km_all,"cal_all": cal_all,
-                                          "pick":pick,"heartrate":heartrate,"stepcount":stepcount,"Active":Active,"inactive":inactive,
-                                          "normal":normal,"max_zsc":max_zsc,"min_zsc":min_zsc,"week":week,"month":month,"day":day})
+                                          "hr_all": hr_all, "sc_all": sc_all, "zsc_all": zsc_all, "km_all": km_all,"cal_all": cal_all,"N_pick_type":N_pick_type,
+                                          "pick":pick,"heartrate":heartrate,"stepcount":stepcount,"Active":Active,"max_zsc":max_zsc,"min_zsc":min_zsc,"week":week,
+                                          "month":month,"day":day,"sc_hr":sc_hr,"cal_km":cal_km,"hr_kid_1mean": hr_kid_1mean, "sc_kid_1mean": sc_kid_1mean,"km_kid_1mean": km_kid_1mean,
+                                          "cal_kid_1mean": cal_kid_1mean,"hr_all_1mean": hr_all_1mean, "sc_all_1mean": sc_all_1mean,"km_all_1mean": km_all_1mean, "cal_all_1mean": cal_all_1mean})
 
-
-# 하루 데이터 뽑기
+# 2. 하루데이터 뽑기
 def pick_date(request):
     global Name2; global center; global class_; global birth ; global a; global kid_all_data;
+    N_pick_type="Y"
     ch_la = ['10시', '11시', '12시', '13시', '14시', '15시', '16시']
     date_ = request.POST['date_pick']
     print("date",date_)
     pick = "하루 데이터 보기"
-    week=False
-    day=True
-    month=False
+    sc_hr = 0; cal_km = 0;
+    week=False; day=True; month=False;
     hr_kid = []; sc_kid = []; zsc_kid = []; km_kid = []; cal_kid = [];hr_all = [];sc_all = [];
     heartrate=[]; stepcount = []; max_zsc=[]; min_zsc=[];zsc_all = [];km_all = [];cal_all = [];
-    Active = False
-    inactive = False
-    normal = False
+    hr_kid_1mean = []; sc_kid_1mean = []; hr_all_1mean = [];  sc_all_1mean = [];
+    km_kid_1mean = []; cal_kid_1mean = []; km_all_1mean = []; cal_all_1mean = []
+    Active = 0;
     if All.objects.filter(name=Name2, day=date_).exists():
         not_day = False
         kid_all_data['day']=kid_all_data['day'].astype('datetime64[s]')
@@ -244,6 +319,10 @@
         zsc_kid = list(aaaa['zsc_x'].replace(0,np.nan))
         km_kid = list(aaaa['km_x'])
         cal_kid = list(aaaa['cal_x'])
+        cal_kid = list(map(int, cal_kid))
+        hr_kid = list(map(int, hr_kid))
+        km_kid = list(map(int, km_kid))
+        sc_kid = list(map(int, sc_kid))
         # 전체 정보
         # day_all = list(aaaa['time_y'].astype('str'))
         hr_all = list(aaaa['heartrate_y'])
@@ -251,51 +330,105 @@
         zsc_all = list(aaaa['zsc_y'].replace(0,np.nan))
         km_all = list(aaaa['km_y'])
         cal_all = list(aaaa['cal_y'])
+        cal_all = list(map(int, cal_all))
+        hr_all = list(map(int, hr_all))
+        km_all = list(map(int, km_all))
+        sc_all = list(map(int, sc_all))
         ## 전체평균
         pick = str(date_) + "일"
         #활동량 확인
         all_zsc = numpy.nanmean(zsc_all)
         kid_zsc = numpy.nanmean(zsc_kid)
         zsc = float(all_zsc) - float(kid_zsc)
-        if zsc >= 0.1:
-            Active = False
-            inactive = True
-            normal = False
-        elif zsc <= -0.1:
-            Active = True
-            inactive = False
-            normal = False
-        else:
-            Active = False
-            inactive = False
-            normal = True
+        # 최대 최소 zscore구하기
         sc_kid_ = list(aaaa['sc_field_x'].replace(0, np.nan))
         max_zsc = numpy.nanargmax(sc_kid_)
         max_zsc = ch_la[max_zsc]
         min_zsc = numpy.nanargmin(sc_kid_)
         min_zsc = ch_la[min_zsc]
-        # 평균 심박수, 걸음수
+        # 평균 심박수, 걸음수, km,cal
+        print(aaaa)
         hr_kid_mean = list(aaaa['heartrate_x'].replace(0, np.nan))
         sc_kid_mean = list(aaaa['sc_field_x'].replace(0, np.nan))
+        km_kid_mean = list(aaaa['km_x'].replace(0,np.nan))
+        cal_kid_mean = list(aaaa['cal_x'].replace(0,np.nan))
+        hr_all_mean = list(aaaa['heartrate_y'].replace(0, np.nan))
+        sc_all_mean = list(aaaa['sc_field_y'].replace(0, np.nan))
+        km_all_mean = list(aaaa['km_y'].replace(0,np.nan))
+        cal_all_mean = list(aaaa['cal_y'].replace(0,np.nan))
+        # 데이터 평균치 구하기
         heartrate = int(numpy.nanmean(hr_kid_mean))
-        stepcount = int(numpy.nanmean(sc_kid_mean))*6
+        stepcount = int(numpy.nanmean(sc_kid_mean)) * 6
+        hr_kid_mean = numpy.nanmean(hr_kid_mean)
+        sc_kid_mean = numpy.nanmean(sc_kid_mean)
+        km_kid_mean = numpy.nanmean(km_kid_mean)
+        cal_kid_mean = numpy.nanmean(cal_kid_mean)
+        hr_all_mean = numpy.nanmean(hr_all_mean)
+        sc_all_mean = numpy.nanmean(sc_all_mean)
+        km_all_mean = numpy.nanmean(km_all_mean)
+        cal_all_mean = numpy.nanmean(cal_all_mean)
+        # 데이터 평균선 추가
+        hr_kid_1mean.append(int(numpy.nanmean(hr_kid_mean)))
+        sc_kid_1mean.append(int(numpy.nanmean(sc_kid_mean)))
+        km_kid_1mean.append(int(numpy.nanmean(km_kid_mean)))
+        cal_kid_1mean.append(int(numpy.nanmean(cal_kid_mean)))
+        hr_all_1mean.append(int(numpy.nanmean(hr_all_mean)))
+        sc_all_1mean.append(int(numpy.nanmean(sc_all_mean)))
+        km_all_1mean.append(int(numpy.nanmean(km_all_mean)))
+        cal_all_1mean.append(int(numpy.nanmean(cal_all_mean)))
+        hr_kid_1mean = hr_kid_1mean * len(km_kid);
+        sc_kid_1mean = sc_kid_1mean * len(km_kid);
+        hr_all_1mean = hr_all_1mean * len(km_kid);
+        sc_all_1mean = sc_all_1mean * len(km_kid);
+        km_kid_1mean = km_kid_1mean * len(km_kid);
+        cal_kid_1mean = cal_kid_1mean * len(km_kid);
+        km_all_1mean = km_all_1mean * len(km_kid);
+        cal_all_1mean = cal_all_1mean * len(km_kid);
+        # 심박수, 걸음수 비교
+        if (hr_kid_mean > hr_all_mean) & (sc_kid_mean > sc_all_mean):
+            sc_hr=1
+        elif (hr_kid_mean > hr_all_mean) & (sc_kid_mean < sc_all_mean):
+            sc_hr=4
+        elif (hr_kid_mean < hr_all_mean) & (sc_kid_mean > sc_all_mean):
+            sc_hr=2
+        elif (hr_kid_mean < hr_all_mean) & (sc_kid_mean < sc_all_mean):
+            sc_hr = 3
+        # cal, km비교
+        if (cal_kid_mean > cal_all_mean) & (km_kid_mean > km_all_mean):
+            cal_km=1
+        elif (cal_kid_mean > cal_all_mean) & (km_kid_mean < km_all_mean):
+            cal_km=4
+        elif (cal_kid_mean < cal_all_mean) & (km_kid_mean > km_all_mean):
+            cal_km=2
+        elif (cal_kid_mean < cal_all_mean) & (km_kid_mean < km_all_mean):
+            cal_km = 3
+        # 아이의 활동량 구하기 (1 : 비교적 차분, 2: ,3:평균, 4: 비교적 활동적, 5: 활동적)
+        if (cal_km==3 and sc_hr==3):
+            Active = 1
+        elif (cal_km==1 and sc_hr==1):
+            Active = 5
+        elif (cal_km==4 and sc_hr==1) or (cal_km==1 and sc_hr==4):
+            Active = 4
+        else:
+            Active = 3
     else:
         not_day = True
-    return render(request, 'result.html', {"name": Name2, "birth": birth, "a": a, "not_day": not_day,"ch_la":ch_la,
+    return render(request, 'kids_result.html', {"name": Name2, "birth": birth, "a": a, "not_day": not_day,"ch_la":ch_la,
                                            "hr_kid": hr_kid, "sc_kid": sc_kid, "zsc_kid": zsc_kid, "km_kid": km_kid,"cal_kid": cal_kid,
-                                           "hr_all": hr_all, "sc_all": sc_all, "zsc_all": zsc_all, "km_all": km_all,"cal_all": cal_all,
-                                           "pick":pick,"heartrate":heartrate,"stepcount":stepcount,"Active":Active,"inactive":inactive,
-                                           "normal":normal,"max_zsc":max_zsc,"min_zsc":min_zsc,"week":week,"month":month,"day":day})
-# 월데이터 뽑기
+                                           "hr_all": hr_all, "sc_all": sc_all, "zsc_all": zsc_all, "km_all": km_all,"cal_all": cal_all,"N_pick_type":N_pick_type,
+                                           "pick":pick,"heartrate":heartrate,"stepcount":stepcount,"Active":Active,"max_zsc":max_zsc,"min_zsc":min_zsc,"week":week,
+                                           "month":month,"day":day,"sc_hr":sc_hr,"cal_km":cal_km,"hr_kid_1mean": hr_kid_1mean, "sc_kid_1mean": sc_kid_1mean, "km_kid_1mean": km_kid_1mean,
+                                           "cal_kid_1mean": cal_kid_1mean,"hr_all_1mean": hr_all_1mean, "sc_all_1mean": sc_all_1mean,"km_all_1mean": km_all_1mean, "cal_all_1mean": cal_all_1mean})
+
+# 3. 월데이터 뽑기
 def pick_month(request):
     global Name2; global center; global class_; global birth ; global a; global kid_all_data;
+    N_pick_type = "Y"
     month_ = request.POST['month']
     month_p = pd.DataFrame()
     month_p['month'] = list(month_)
     pick = '월별로 보기'
-    week = False
-    day = False
-    month = True
+    week = False; day = False; month = True;
     #원하는 월 가져오기
     # 전체
     all_data = kid_all_data.loc[(kid_all_data['반'] == class_),['heartrate', 'sc_field', 'error', 'zsc', 'day', 'time', 'week', 'km','cal', 'date']]
@@ -318,7 +451,7 @@
     month_kid_2 = month_kid_2.loc[month_kid_2['month'] == month_, ['heartrate', 'sc_field', 'km', 'cal', 'month', 'date', 'zsc']]
     month_kid_2 = month_kid_2.fillna(value=0)
     # merge 합
-    month_p = pd.merge(all_month_2, month_kid_2, on=['date'])
+    month_p = pd.merge(month_kid_2, all_month_2, on=['date'])
     month_p['day'] = month_p['date'].dt.day
     month_p = month_p.fillna(value=0)
     # 각 데이터 추출
@@ -328,12 +461,20 @@
     zsc_kid = list(month_p['zsc_x'].replace(0,np.nan))
     km_kid = list(month_p['km_x'])
     cal_kid = list(month_p['cal_x'])
+    cal_kid = list(map(int, cal_kid))
+    hr_kid = list(map(int, hr_kid))
+    km_kid = list(map(int, km_kid))
+    sc_kid = list(map(int, sc_kid))
     # 전체 정보
     hr_all = list(month_p['heartrate_y'])
     sc_all = list(month_p['sc_field_y'])
     zsc_all = list(month_p['zsc_y'].replace(0,np.nan))
     km_all = list(month_p['km_y'])
     cal_all = list(month_p['cal_y'])
+    cal_all = list(map(int, cal_all))
+    hr_all = list(map(int, hr_all))
+    km_all = list(map(int, km_all))
+    sc_all = list(map(int, sc_all))
     # 날
     ch_la=list(month_p['day'])
     pick = str(month_) + '월'
@@ -341,70 +482,109 @@
     all_zsc = numpy.nanmean(zsc_all)
     kid_zsc = numpy.nanmean(zsc_kid)
     zsc = float(all_zsc) - float(kid_zsc)
-    if zsc >= 0.1:
-        Active = False
-        inactive = True
-        normal = False
-    elif zsc <= -0.1:
-        Active = True
-        inactive = False
-        normal = False
-    else:
-        Active = False
-        inactive = False
-        normal = True
+    # 제일 많이 걸은 날 구하기
     sc_kid_ =list(month_p['sc_field_x'].replace(0,np.nan))
     max_zsc = numpy.nanargmax(sc_kid_)
     max_zsc = (str(ch_la[max_zsc])+"일")
     min_zsc = numpy.nanargmin(sc_kid_)
     min_zsc = (str(ch_la[min_zsc])+"일")
-    # 평균 심박수, 걸음수
+    # 평균 심박수, 걸음수, km, cal
     hr_kid_mean = list(month_p['heartrate_x'].replace(0, np.nan))
     sc_kid_mean = list(month_p['sc_field_x'].replace(0, np.nan))
-    #hr_kids = hr_kid.replace(0, np.nan)
-    heartrate = int(numpy.nanmean(hr_kid_mean))
-    #sc_kids = sc_kid.replace(0, np.nan_mean)
-    stepcount = int(numpy.nanmean(sc_kid_mean))*6
-    ## 전체평균
-    #HR_all = numpy.mean(list(month_p["heartrate"]))
-    return render(request, 'result.html', {"name": Name2, "birth": birth, "a": a, "ch_la":ch_la,
+    km_kid_mean = list(month_p['km_x'].replace(0, np.nan))
+    cal_kid_mean = list(month_p['cal_x'].replace(0, np.nan))
+    hr_all_mean = list(month_p['heartrate_y'].replace(0, np.nan))
+    sc_all_mean = list(month_p['sc_field_y'].replace(0, np.nan))
+    km_all_mean = list(month_p['km_y'].replace(0, np.nan))
+    cal_all_mean = list(month_p['cal_y'].replace(0, np.nan))
+    print("mean",km_kid_mean)
+    # 그래프에 전체평균 값( 일별이 아닌 한달 평균 line그래프)
+    hr_kid_1mean = []; sc_kid_1mean = []; hr_all_1mean=[]; sc_all_1mean=[];km_kid_1mean = []; cal_kid_1mean = []; km_all_1mean=[]; cal_all_1mean=[]
+    heartrate=int(numpy.nanmean(hr_kid_mean))
+    stepcount=int(numpy.nanmean(sc_kid_mean)) * 6
+    hr_kid_1mean.append(int(numpy.nanmean(hr_kid_mean)))
+    sc_kid_1mean.append(int(numpy.nanmean(sc_kid_mean)))
+    km_kid_1mean.append(int(numpy.nanmean(km_kid_mean)))
+    cal_kid_1mean.append(int(numpy.nanmean(cal_kid_mean)))
+    hr_all_1mean.append(int(numpy.nanmean(hr_all_mean)))
+    sc_all_1mean.append(int(numpy.nanmean(sc_all_mean)))
+    km_all_1mean.append(int(numpy.nanmean(km_all_mean)))
+    cal_all_1mean.append(int(numpy.nanmean(cal_all_mean)))
+    hr_kid_1mean = hr_kid_1mean * len(km_kid); sc_kid_1mean = sc_kid_1mean * len(km_kid); hr_all_1mean= hr_all_1mean * len(km_kid); sc_all_1mean = sc_all_1mean * len(km_kid);
+    km_kid_1mean = km_kid_1mean * len(km_kid); cal_kid_1mean = cal_kid_1mean * len(km_kid); km_all_1mean = km_all_1mean * len(km_kid); cal_all_1mean = cal_all_1mean * len(km_kid);
+    # 평균값 그래프( bar )
+    hr_kid_mean = numpy.nanmean(hr_kid_mean)
+    sc_kid_mean = numpy.nanmean(sc_kid_mean)
+    km_kid_mean = numpy.nanmean(km_kid_mean)
+    cal_kid_mean = numpy.nanmean(cal_kid_mean)
+    hr_all_mean = numpy.nanmean(hr_all_mean)
+    sc_all_mean = numpy.nanmean(sc_all_mean)
+    km_all_mean = numpy.nanmean(km_all_mean)
+    cal_all_mean = numpy.nanmean(cal_all_mean)
+    # 사분면에 표현할 값 계산
+    sc_hr = 0;
+    cal_km = 0;
+    # 심박수, 걸음수 비교
+    if (hr_kid_mean > hr_all_mean) & (sc_kid_mean > sc_all_mean):
+        sc_hr = 1
+    elif (hr_kid_mean > hr_all_mean) & (sc_kid_mean < sc_all_mean):
+        sc_hr = 4
+    elif (hr_kid_mean < hr_all_mean) & (sc_kid_mean > sc_all_mean):
+        sc_hr = 2
+    elif (hr_kid_mean < hr_all_mean) & (sc_kid_mean < sc_all_mean):
+        sc_hr = 3
+    # cal, km비교
+    if (cal_kid_mean > cal_all_mean) & (km_kid_mean > km_all_mean):
+        cal_km = 1
+    elif (cal_kid_mean > cal_all_mean) & (km_kid_mean < km_all_mean):
+        cal_km = 4
+    elif (cal_kid_mean < cal_all_mean) & (km_kid_mean > km_all_mean):
+        cal_km = 2
+    elif (cal_kid_mean < cal_all_mean) & (km_kid_mean < km_all_mean):
+        cal_km = 3
+    # 아이의 활동량 구하기 (1 : 비교적 차분, 2: ,3:평균, 4: 비교적 활동적, 5: 활동적)
+    if (cal_km == 3 and sc_hr == 3):
+        Active = 1
+    elif (cal_km == 1 and sc_hr == 1):
+        Active = 5
+    elif (cal_km == 4 and sc_hr == 1) or (cal_km == 1 and sc_hr == 4):
+        Active = 4
+    else:
+        Active = 3
+    return render(request, 'kids_result.html', {"name": Name2, "birth": birth, "a": a, "ch_la":ch_la,
                                            "hr_kid": hr_kid, "sc_kid": sc_kid, "zsc_kid": zsc_kid, "km_kid": km_kid,"cal_kid": cal_kid,
-                                           "hr_all": hr_all, "sc_all": sc_all, "zsc_all": zsc_all, "km_all": km_all,"cal_all": cal_all,
-                                           "pick":pick,"heartrate":heartrate,"stepcount":stepcount,"Active":Active,"inactive":inactive,
-                                           "normal":normal,"max_zsc":max_zsc,"min_zsc":min_zsc,"week":week,"month":month,"day":day})
+                                           "hr_all": hr_all, "sc_all": sc_all, "zsc_all": zsc_all, "km_all": km_all,"cal_all": cal_all,"N_pick_type":N_pick_type,
+                                           "pick":pick,"heartrate":heartrate,"stepcount":stepcount,"Active":Active,"max_zsc":max_zsc,"min_zsc":min_zsc,"week":week,
+                                           "month":month,"day":day,"sc_hr":sc_hr,"cal_km":cal_km,"hr_kid_1mean":hr_kid_1mean,"sc_kid_1mean":sc_kid_1mean,"km_kid_1mean":km_kid_1mean,
+                                           "cal_kid_1mean":cal_kid_1mean,"hr_all_1mean": hr_all_1mean, "sc_all_1mean": sc_all_1mean,"km_all_1mean": km_all_1mean, "cal_all_1mean": cal_all_1mean})
 
-# 사용자 데이터 입력페이지
-def kid_data_fileupload(request):
+# 사용자 데이터 업로드 비밀번호 입력
+def kids_data_fileupload(request):
     global pass_data
     pass_data = request.POST['data_pass']
-    pw='1504'
+    pw='1504' # 비밀번호 설정
     if pass_data == pw:
         not_pass=False
     else:
         not_pass=True
-    return render(request, 'kid_data_fileupload.html', {"not_pass":not_pass,"pass_data":pass_data})
-
+    return render(request, 'kids_data_fileupload.html', {"not_pass":not_pass,"pass_data":pass_data})
 from .models import All
 from django.conf import settings
 import io
 from sqlalchemy import create_engine
 # 데이터 입력받기
-def kid_data_upload(request):
+def kids_data_upload(request):
     global data_df
-    file = request.FILES['upload_kid_data']
+    file = request.FILES['upload_kids_data']
     data_df = file
     data_df = pd.read_csv(io.BytesIO(file.read()),encoding='cp949')
-    print(data_df)
-    return render(request, 'kid_data_fileupload.html',{"file":file,"data_df":data_df})
-
+    return render(request, 'kids_data_fileupload.html',{"file":file,"data_df":data_df})
 
 # 데이터 db에 저장
 from .models import All
-def input_kid_data(request):
+def input_kids_data(request):
     global data_df
-
     data_df = data_df[['Date', 'HeartRate', 'Km', 'sc_', 'Cal',"ID","Day","Time",'week',"error","Name","Zsc"]]
-    print(data_df)
     database_url = 'mysql://{user}:{password}@localhost/{database_name}'.format(
         user=settings.DATABASES['kids_db']['USER'],
         password=settings.DATABASES['kids_db']['PASSWORD'],
@@ -413,7 +593,7 @@
     engine = create_engine(database_url, echo=False)
     data_df.to_sql(name='kids_data', con=engine, index=False, if_exists='append')
     Succeeded=True
-    return render(request, 'kid_data_fileupload.html',{"Succeeded":Succeeded,"data_df":data_df})
+    return render(request, 'kids_data_fileupload.html',{"Succeeded":Succeeded,"data_df":data_df})
 
 
 
Index: smartfarm_page/templates/kids_pattern1.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{% load static %}\r\n\r\n<!doctype html>\r\n<html>\r\n<head>\r\n<!-- Basic Page Needs\r\n    ================================================== -->\r\n<meta charset=\"utf-8\">\r\n<!--[if IE]><meta http-equiv=\"x-ua-compatible\" content=\"IE=9\" /><![endif]-->\r\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n<title>영유아보육안전</title>\r\n<meta name=\"description\" content=\"\">\r\n<meta name=\"author\" content=\"\">\r\n\r\n<!-- Favicons\r\n    ================================================== -->\r\n<link rel=\"shortcut icon\" href=\"img/favicon.ico\" type=\"image/x-icon\">\r\n\r\n<!-- Bootstrap -->\r\n<link rel=\"stylesheet\" type=\"text/css\"  href=\"{% static 'smartfarm_page/css/kids/bootstrap.css' %}?after\">\r\n<link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'smartfarm_page/css/kids/font-awesome.css' %}?after\">\r\n\r\n<!-- Slider\r\n    ================================================== -->\r\n<link href=\"{% static 'smartfarm_page/css/kids/owl.carousel.css' %}?after\" rel=\"stylesheet\" media=\"screen\">\r\n<link href=\"{% static 'smartfarm_page/css/kids/owl.theme.css' %}?after\" rel=\"stylesheet\" media=\"screen\">\r\n<link href=\"{% static 'smartfarm_page/css/kids/animate.css' %}?after\" rel=\"stylesheet\" media=\"screen\">\r\n\r\n<!-- Stylesheet\r\n    ================================================== -->\r\n<link rel=\"stylesheet\" type=\"text/css\"  href=\"{% static 'smartfarm_page/css/stylehj.css' %}?after\">\r\n<link href='https://fonts.googleapis.com/css?family=PT+Serif:400,400i,700|Montserrat:100,200,300,300i,400,500,600,700,800,900' rel='stylesheet' type='text/css'>\r\n\r\n<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->\r\n<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->\r\n<!--[if lt IE 9]>\r\n      <script src=\"https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js\"></script>\r\n      <script src=\"https://oss.maxcdn.com/respond/1.4.2/respond.min.js\"></script>\r\n    <![endif]-->\r\n<!-- font -->\r\n<link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\r\n<link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\r\n<link href=\"https://fonts.googleapis.com/css2?family=Jua&display=swap\" rel=\"stylesheet\">\r\n\r\n\r\n</head>\r\n<body class=\"page\" style=\"background-color:#F3F6F6; height: 300px;\">\r\n\r\n<!-- Navigation\r\n    ==========================================-->\r\n<nav id=\"top-menu\" class=\"navbar navbar-default navbar-fixed-top\">\r\n  <div class=\"container\">\r\n    <!-- Brand and toggle get grouped for better mobile display -->\r\n    <div class=\"navbar-header\">\r\n      <button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#bs-example-navbar-collapse-1\"> <span class=\"sr-only\">Toggle navigation</span> <span class=\"icon-bar\"></span> <span class=\"icon-bar\"></span> <span class=\"icon-bar\"></span> </button>\r\n      <a class=\"navbar-brand\" href=\"{% url 'main'%}\"><img src=\"{% static 'smartfarm_page/assets/img/logo.png' %}?after\" class=\"img-responsive\"><span>공공융합플랫폼</span></a> </div>\r\n\r\n    <!-- Collect the nav links, forms, and other content for toggling -->\r\n    <div class=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\r\n\r\n      <!--nav icon-->\r\n      <a id=\"nav-icon\"> <span></span> <span></span> <span></span> </a>\r\n      <!--nav icon end-->\r\n\r\n      <ul id=\"nav-top\" class=\"nav navbar-nav navbar-right\">\r\n\t\t   <li><a href=\"{% url 'main'%}\" class=\"page-scroll\"style=\" color:#525249;\">Home</a></li>\r\n\t\t\t<li><a href=\"{% url 'str_smartfarm1'%}\" class=\"page-scroll\"style=\" color:#525249;\">딸기 스마트팜</a></li>\r\n\t\t\t<li><a href=\"{% url 'kids_pattern1' %}\" class=\"page-scroll\"style=\" color:#525249;\">영유아 스마트 케어</a></li>\r\n\t\t\t<li><a href=\"{% url 'covid19'%}\" class=\"page-scroll\"style=\" color:#525249;\">코로나19 현황 분석</a></li>\r\n      </ul>\r\n    </div>\r\n    <!-- /.navbar-collapse -->\r\n  </div>\r\n  <!-- /.container-fluid -->\r\n</nav>\r\n\r\n<!-- banner Page\r\n    ==========================================-->\r\n<div id=\"page-banner\" style=\"background-image: url({% static 'smartfarm_page/assets/img/children.png' %});\">\r\n  <div class=\"content  wow fdeInUp\">\r\n    <div class=\"container \">\r\n        <br><br><br><br><br><br><br><br><br><br><br><br>\r\n\r\n<!--\r\n      <h1>영유아 스마트 케어</h1>\r\n-->\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!--page body-->\r\n\r\n  <div class=\"container\">\r\n      <br><br><br><br><br>\r\n    <div class=\"row\">\r\n      <!--blog posts container-->\r\n      <div class=\"col-md-offset-3 col-md-6 page-block\">\r\n          <h1 class=\"text-center\" style=\"color: #484949; font-family: 'Jua', sans-serif;\">영유아 스마트 케어</h1><br>\r\n          <h2 class=\"text-center\" style=\"font-family: 'Jua', sans-serif;\">아이의 정보를 입력하세요.</h2><br><br>\r\n            <form action=\"{% url 'result'%}\" method=\"POST\">\r\n                {% csrf_token %}\r\n                <br>\r\n                <div class=\"form-group\">\r\n                    <label for=\"exampleInputName\" style=\"font-size:15px;\">이름</label>\r\n                    <input  name=\"name\" type=\"text\" class=\"form-control\" id=\"exampleInputName\" placeholder=\"Name\" style=\"height:45px;font-size:15px;\" required>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"exampleInputcheck\" style=\"font-size:15px;\">어린이집</label>\r\n                    <select name=\"C_name\" class=\"form-control\" id=\"exampleInputcheck\" placeholder=\"어린이집\" style=\"height:45px;font-size:15px;\">\r\n                        <option value=\"예닮어린이집\" >예닮어린이집\r\n                        <option value=\"평택어린이집\">평택어린이집\r\n                        </select><br>\r\n                    <label for=\"exampleInputcheck\" style=\"font-size:15px;\">반</label>\r\n                    <select name=\"class\" class=\"form-control\" id=\"exampleInputcheck2\" placeholder=\"반\" style=\"height:45px;font-size:15px;\">\r\n                        <optgroup label=\"예닮어린이집\">\r\n                            <option value=\"행복한아라반\">아라반</option>\r\n                            <option value=\"행복한하나반\">하나반</option>\r\n                            <option value=\"행복한나래반\">나래반</option>\r\n                            <option value=\"행복한아토반\">아토반</option>\r\n                            <option value=\"행복한마루반\">마루반</option>\r\n                            <option value=\"행복한누리반\">누리반</option>\r\n                        <optgroup label=\"평택어린이집\">\r\n                            <option value=\"독수리반\" >독수리반\r\n                            <option value=\"다람쥐반\">다람쥐반\r\n                            <option value=\"병아리반\">병아리반\r\n                            </select><br>\r\n                </div>\r\n\r\n<!--                 <div class=\"form-group\">-->\r\n<!--                    <label for=\"exampleInputPassword1\">Password</label>-->\r\n<!--                    <input type=\"password\" class=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Password\">-->\r\n<!--                </div>-->\r\n                <div class=\"form-group\">\r\n                    <label for=\"exampleInputcheck\" style=\"font-size:15px;\">생년월일 </label>\r\n                    <input name=\"password\" type=\"date\" class=\"form-control\"  min=\"2016-01-01\" max=\"2022-01-01\" value=\"2020-01-01\" style=\"height:45px;width:120;font-size:15px;\">\r\n                </div><br><br><br>\r\n                <button type=\"submit\" class=\"btn btn-primary\" style=\"height:45px;width:120;font-size:16px;\">확 인</button><br><br><br><br><br><br><br><br><br><br><br><br><br>\r\n        </form>\r\n          <form action=\"{% url 'kid_data_fileupload'%}\" method=\"POST\">\r\n                    {% csrf_token %}\r\n                    <div class=\"form-group\">\r\n                    <label for=\"exampleInputName\" style=\"font-size:15px;\">업로드 사용자 비밀번호</label>\r\n                    <input  name=\"data_pass\" type=\"text\" class=\"form-control\" id=\"exampleInput\" placeholder=\"password\" style=\"height:45px;font-size:15px;\" required>\r\n                </div>\r\n\r\n      <!--blog posts container-->\r\n\r\n    </div>\r\n  </div>\r\n </div>\r\n</div>\r\n<!--<div class=\"clearfix\"></div>-->\r\n\r\n        <div class=\"row mb-5\"></div>\r\n        <footer class=\"footer bg-light\" style=\"background-color:#DCDCDC\">\r\n            <br><br><br>\r\n            <div class=\"container\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-lg-6 h-100 text-center text-lg-start my-auto\">\r\n                        <ul class=\"list-inline mb-2\">\r\n                            <li class=\"list-inline-item\"><a href=\"https://aict.snu.ac.kr/?p=18\">연구원 소개</a></li>\r\n                            <li class=\"list-inline-item\">⋅</li>\r\n                            <li class=\"list-inline-item\"><a href=\"https://aict.snu.ac.kr/?p=31\">공공융합플랫폼 소개</a></li>\r\n                            <li class=\"list-inline-item\">⋅</li>\r\n                            <li class=\"list-inline-item\"><a href=\"https://aict.snu.ac.kr/?p=17\">찾아오시는길</a></li>\r\n                            <li class=\"list-inline-item\">⋅</li>\r\n                            <li class=\"list-inline-item\"><a href=\"https://aict.snu.ac.kr/?p=125\">개인정보처리방침</a></li>\r\n\r\n                        </ul>\r\n                        <p class=\"text-muted small mb-4 mb-lg-0\">&copy;ADVANCED INSTITUTE OF CONVERGENCE TECHNOLOGY ALL RIGHTS RESERVED. </p>\r\n                    </div>\r\n                    <div class=\"col-lg-6 h-100 text-center text-lg-end my-auto\">\r\n\r\n                        <ul class=\"list-inline mb-0\">\r\n                            <li class=\"list-inline-item me-4\">\r\n                                <a href=\"https://aict.snu.ac.kr/\">\r\n                                    <img src=\"{% static 'smartfarm_page/assets/img/aict_logo.png' %}\" width=\"43\" height=\"43\" alt=\"\">\r\n                                </a>\r\n                            </li>\r\n                            <li class=\"list-inline-item me-4\">\r\n                                <a href=\"https://www.snu.ac.kr/\">\r\n                                    <img src=\"{% static 'smartfarm_page/assets/img/snu_logo.png' %}\" width=\"43\" height=\"43\" alt=\"\">\r\n                                </a>\r\n                            </li>\r\n                            <li class=\"list-inline-item me-4\">\r\n                                <a href=\"https://www.gg.go.kr/\">\r\n                                    <img src=\"{% static 'smartfarm_page/assets/img/ggd_logo.png' %}\" width=\"55\" height=\"25\" alt=\"\">\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div><br><br>\r\n        </footer>\r\n\r\n<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->\r\n<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\"></script>\r\n<!-- Include all compiled plugins (below), or include individual files as needed -->\r\n<script type=\"text/javascript\" src=\"{% static 'smartfarm_page/js/kids/bootstrap.js' %}\"></script>\r\n<script type=\"text/javascript\" src=\"{% static 'smartfarm_page/js/kids/SmoothScroll.js' %}\"></script>\r\n<script type=\"text/javascript\" src=\"{% static 'smartfarm_page/js/kids/jquery.isotope.js' %}\"></script>\r\n<script src=\"{% static 'smartfarm_page/js/kids/owl.carousel.js' %}\"></script>\r\n<script src=\"{% static 'smartfarm_page/js/kids/jquery.waypoints.min.js' %}\"></script>\r\n<!-- Javascripts\r\n    ================================================== -->\r\n<script type=\"text/javascript\" src=\"{% static 'smartfarm_page/js/kids/main.js' %}\"></script>\r\n<script src=\"{% static 'smartfarm_page/js/kids/wow.min.js' %}\"></script>\r\n<script>\r\n    jQuery(document).ready(function( $ ) {\r\n        $('.counter').counterUp({\r\n            delay: 10,\r\n            time: 1000\r\n        });\r\n    });\r\n</script>\r\n<script>\r\nnew WOW().init();\r\n</script>\r\n</body>\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- smartfarm_page/templates/kids_pattern1.html	(revision 90895c301d44eee15bce21b31d3afd61a6f8328b)
+++ smartfarm_page/templates/kids_pattern1.html	(date 1646889633277)
@@ -34,8 +34,8 @@
 <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
 <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
 <!--[if lt IE 9]>
-      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
-      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
+<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
+<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
     <![endif]-->
 <!-- font -->
 <link rel="preconnect" href="https://fonts.googleapis.com">
@@ -51,24 +51,22 @@
 <nav id="top-menu" class="navbar navbar-default navbar-fixed-top">
   <div class="container">
     <!-- Brand and toggle get grouped for better mobile display -->
-    <div class="navbar-header">
-      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
-      <a class="navbar-brand" href="{% url 'main'%}"><img src="{% static 'smartfarm_page/assets/img/logo.png' %}?after" class="img-responsive"><span>공공융합플랫폼</span></a> </div>
+      <div class="navbar-header">
+          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
+          <a class="navbar-brand" href="{% url 'main'%}"><img src="{% static 'smartfarm_page/assets/img/logo.png' %}?after" class="img-responsive"><span style=" color:#525249;">공공융합플랫폼</span></a> </div>
 
     <!-- Collect the nav links, forms, and other content for toggling -->
-    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
-
+      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
       <!--nav icon-->
-      <a id="nav-icon"> <span></span> <span></span> <span></span> </a>
+          <a id="nav-icon"> <span></span> <span></span> <span></span> </a>
       <!--nav icon end-->
-
-      <ul id="nav-top" class="nav navbar-nav navbar-right">
-		   <li><a href="{% url 'main'%}" class="page-scroll"style=" color:#525249;">Home</a></li>
-			<li><a href="{% url 'str_smartfarm1'%}" class="page-scroll"style=" color:#525249;">딸기 스마트팜</a></li>
-			<li><a href="{% url 'kids_pattern1' %}" class="page-scroll"style=" color:#525249;">영유아 스마트 케어</a></li>
-			<li><a href="{% url 'covid19'%}" class="page-scroll"style=" color:#525249;">코로나19 현황 분석</a></li>
-      </ul>
-    </div>
+          <ul id="nav-top" class="nav navbar-nav navbar-right">
+              <li><a href="{% url 'main'%}" class="page-scroll"style=" color:#525249;">Home</a></li>
+              <li><a href="{% url 'str_smartfarm1'%}" class="page-scroll"style=" color:#525249;">딸기 스마트팜</a></li>
+              <li><a href="{% url 'kids_pattern1' %}" class="page-scroll"style=" color:#525249;">영유아 스마트 케어</a></li>
+              <li><a href="{% url 'covid19'%}" class="page-scroll"style=" color:#525249;">코로나19 현황 분석</a></li>
+          </ul>
+      </div>
     <!-- /.navbar-collapse -->
   </div>
   <!-- /.container-fluid -->
@@ -80,24 +78,18 @@
   <div class="content  wow fdeInUp">
     <div class="container ">
         <br><br><br><br><br><br><br><br><br><br><br><br>
-
-<!--
-      <h1>영유아 스마트 케어</h1>
--->
+<!--<h1>영유아 스마트 케어</h1>-->
     </div>
   </div>
 </div>
-
 <!--page body-->
-
-  <div class="container">
-      <br><br><br><br><br>
+<div class="container"><br><br><br><br><br>
     <div class="row">
       <!--blog posts container-->
       <div class="col-md-offset-3 col-md-6 page-block">
           <h1 class="text-center" style="color: #484949; font-family: 'Jua', sans-serif;">영유아 스마트 케어</h1><br>
           <h2 class="text-center" style="font-family: 'Jua', sans-serif;">아이의 정보를 입력하세요.</h2><br><br>
-            <form action="{% url 'result'%}" method="POST">
+            <form action="{% url 'kids_result'%}" method="POST">
                 {% csrf_token %}
                 <br>
                 <div class="form-group">
@@ -119,6 +111,7 @@
                             <option value="행복한아토반">아토반</option>
                             <option value="행복한마루반">마루반</option>
                             <option value="행복한누리반">누리반</option>
+                            <option value="행복한샛별반">샛별반</option>
                         <optgroup label="평택어린이집">
                             <option value="독수리반" >독수리반
                             <option value="다람쥐반">다람쥐반
@@ -134,14 +127,15 @@
                     <label for="exampleInputcheck" style="font-size:15px;">생년월일 </label>
                     <input name="password" type="date" class="form-control"  min="2016-01-01" max="2022-01-01" value="2020-01-01" style="height:45px;width:120;font-size:15px;">
                 </div><br><br><br>
-                <button type="submit" class="btn btn-primary" style="height:45px;width:120;font-size:16px;">확 인</button><br><br><br><br><br><br><br><br><br><br><br><br><br>
-        </form>
-          <form action="{% url 'kid_data_fileupload'%}" method="POST">
-                    {% csrf_token %}
-                    <div class="form-group">
-                    <label for="exampleInputName" style="font-size:15px;">업로드 사용자 비밀번호</label>
-                    <input  name="data_pass" type="text" class="form-control" id="exampleInput" placeholder="password" style="height:45px;font-size:15px;" required>
-                </div>
+                <button type="submit" class="btn btn-primary" style="height:45px;width:120;font-size:16px;">확 인</button><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
+            </form>
+          <form action="{% url 'kids_data_fileupload'%}" method="POST">
+              {% csrf_token %}
+              <div class="form-group">
+                  <label for="exampleInputName" style="font-size:15px;">업로드 사용자 비밀번호</label>
+                  <input  name="data_pass" type="password" class="form-control" id="exampleInput" placeholder="password" style="height:45px;font-size:15px;" required>
+              </div><br><br>
+          </form>
 
       <!--blog posts container-->
 
@@ -150,48 +144,45 @@
  </div>
 </div>
 <!--<div class="clearfix"></div>-->
-
-        <div class="row mb-5"></div>
-        <footer class="footer bg-light" style="background-color:#DCDCDC">
-            <br><br><br>
-            <div class="container">
-                <div class="row">
-                    <div class="col-lg-6 h-100 text-center text-lg-start my-auto">
-                        <ul class="list-inline mb-2">
-                            <li class="list-inline-item"><a href="https://aict.snu.ac.kr/?p=18">연구원 소개</a></li>
-                            <li class="list-inline-item">⋅</li>
-                            <li class="list-inline-item"><a href="https://aict.snu.ac.kr/?p=31">공공융합플랫폼 소개</a></li>
-                            <li class="list-inline-item">⋅</li>
-                            <li class="list-inline-item"><a href="https://aict.snu.ac.kr/?p=17">찾아오시는길</a></li>
-                            <li class="list-inline-item">⋅</li>
-                            <li class="list-inline-item"><a href="https://aict.snu.ac.kr/?p=125">개인정보처리방침</a></li>
-
-                        </ul>
-                        <p class="text-muted small mb-4 mb-lg-0">&copy;ADVANCED INSTITUTE OF CONVERGENCE TECHNOLOGY ALL RIGHTS RESERVED. </p>
-                    </div>
-                    <div class="col-lg-6 h-100 text-center text-lg-end my-auto">
-
-                        <ul class="list-inline mb-0">
-                            <li class="list-inline-item me-4">
-                                <a href="https://aict.snu.ac.kr/">
-                                    <img src="{% static 'smartfarm_page/assets/img/aict_logo.png' %}" width="43" height="43" alt="">
-                                </a>
-                            </li>
-                            <li class="list-inline-item me-4">
-                                <a href="https://www.snu.ac.kr/">
-                                    <img src="{% static 'smartfarm_page/assets/img/snu_logo.png' %}" width="43" height="43" alt="">
-                                </a>
-                            </li>
-                            <li class="list-inline-item me-4">
-                                <a href="https://www.gg.go.kr/">
-                                    <img src="{% static 'smartfarm_page/assets/img/ggd_logo.png' %}" width="55" height="25" alt="">
-                                </a>
-                            </li>
-                        </ul>
-                    </div>
-                </div>
-            </div><br><br>
-        </footer>
+<div class="row mb-5"></div>
+<footer class="footer bg-light" style="background-color:#DCDCDC">
+    <br><br><br>
+    <div class="container">
+        <div class="row">
+            <div class="col-lg-6 h-100 text-center text-lg-start my-auto">
+                <ul class="list-inline mb-2">
+                    <li class="list-inline-item"><a href="https://aict.snu.ac.kr/?p=18">연구원 소개</a></li>
+                    <li class="list-inline-item">⋅</li>
+                    <li class="list-inline-item"><a href="https://aict.snu.ac.kr/?p=31">공공융합플랫폼 소개</a></li>
+                    <li class="list-inline-item">⋅</li>
+                    <li class="list-inline-item"><a href="https://aict.snu.ac.kr/?p=17">찾아오시는길</a></li>
+                    <li class="list-inline-item">⋅</li>
+                    <li class="list-inline-item"><a href="https://aict.snu.ac.kr/?p=125">개인정보처리방침</a></li>
+                </ul>
+                <p class="text-muted small mb-4 mb-lg-0">&copy;ADVANCED INSTITUTE OF CONVERGENCE TECHNOLOGY ALL RIGHTS RESERVED. </p>
+            </div>
+            <div class="col-lg-6 h-100 text-center text-lg-end my-auto">
+                <ul class="list-inline mb-0">
+                    <li class="list-inline-item me-4">
+                        <a href="https://aict.snu.ac.kr/">
+                            <img src="{% static 'smartfarm_page/assets/img/aict_logo.png' %}" width="43" height="43" alt="">
+                        </a>
+                    </li>
+                    <li class="list-inline-item me-4">
+                        <a href="https://www.snu.ac.kr/">
+                            <img src="{% static 'smartfarm_page/assets/img/snu_logo.png' %}" width="43" height="43" alt="">
+                        </a>
+                    </li>
+                    <li class="list-inline-item me-4">
+                        <a href="https://www.gg.go.kr/">
+                            <img src="{% static 'smartfarm_page/assets/img/ggd_logo.png' %}" width="55" height="25" alt="">
+                        </a>
+                    </li>
+                </ul>
+            </div>
+        </div>
+    </div><br><br>
+</footer>
 
 <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"a6f975a2-c647-4d3b-9842-6e742afb3348\" name=\"Default Changelist\" comment=\"\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/smartfarm_page/templates/result.html\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/smartfarm_page/templates/result.html\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"EXCLUDED_CONVERTED_TO_IGNORED\" value=\"true\" />\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"HTML File\" />\r\n        <option value=\"Python Script\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"21QyXS2I5diXfdzPhZndnajbbU5\" />\r\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\" />\r\n  <component name=\"PropertiesComponent\">\r\n    <property name=\"DefaultHtmlFileTemplate\" value=\"HTML File\" />\r\n    <property name=\"SHARE_PROJECT_CONFIGURATION_FILES\" value=\"true\" />\r\n    <property name=\"ToolWindowEvent Log.ShowToolbar\" value=\"false\" />\r\n    <property name=\"last_opened_file_path\" value=\"$PROJECT_DIR$\" />\r\n    <property name=\"settings.editor.selected.configurable\" value=\"com.jetbrains.python.configuration.PyActiveSdkModuleConfigurable\" />\r\n  </component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Users\\hmwon\\Desktop\\YJM\\aict_JM\\smartfarm_page\\static\\smartfarm_page\\assets\\img\" />\r\n      <recent name=\"C:\\Users\\HLK\\Desktop\\김혜린\\django_practice\\smartfarm_page\\templates\" />\r\n    </key>\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Users\\HLK\\Desktop\\김혜린\\django_practice\\static\\smartfarm_page\\assets\\img\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunDashboard\">\r\n    <option name=\"ruleStates\">\r\n      <list>\r\n        <RuleState>\r\n          <option name=\"name\" value=\"ConfigurationTypeDashboardGroupingRule\" />\r\n        </RuleState>\r\n        <RuleState>\r\n          <option name=\"name\" value=\"StatusDashboardGroupingRule\" />\r\n        </RuleState>\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"trial\" type=\"PythonConfigurationType\" factoryName=\"Python\" temporary=\"true\">\r\n      <module name=\"django_practice\" />\r\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\r\n      <option name=\"PARENT_ENVS\" value=\"true\" />\r\n      <envs>\r\n        <env name=\"PYTHONUNBUFFERED\" value=\"1\" />\r\n      </envs>\r\n      <option name=\"SDK_HOME\" value=\"\" />\r\n      <option name=\"WORKING_DIRECTORY\" value=\"$PROJECT_DIR$/../code_prac\" />\r\n      <option name=\"IS_MODULE_SDK\" value=\"false\" />\r\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\r\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\r\n      <option name=\"SCRIPT_NAME\" value=\"$PROJECT_DIR$/../code_prac/trial.py\" />\r\n      <option name=\"PARAMETERS\" value=\"\" />\r\n      <option name=\"SHOW_COMMAND_LINE\" value=\"false\" />\r\n      <option name=\"EMULATE_TERMINAL\" value=\"false\" />\r\n      <option name=\"MODULE_MODE\" value=\"false\" />\r\n      <option name=\"REDIRECT_INPUT\" value=\"false\" />\r\n      <option name=\"INPUT_FILE\" value=\"\" />\r\n      <method v=\"2\" />\r\n    </configuration>\r\n    <recent_temporary>\r\n      <list>\r\n        <item itemvalue=\"Python.trial\" />\r\n      </list>\r\n    </recent_temporary>\r\n  </component>\r\n  <component name=\"SvnConfiguration\">\r\n    <configuration />\r\n  </component>\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"a6f975a2-c647-4d3b-9842-6e742afb3348\" name=\"Default Changelist\" comment=\"\" />\r\n      <created>1637887644670</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1637887644670</updated>\r\n    </task>\r\n    <servers />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State>\r\n              <option name=\"COLUMN_ORDER\" />\r\n            </State>\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"XDebuggerManager\">\r\n    <breakpoint-manager>\r\n      <breakpoints>\r\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"python-line\">\r\n          <url>file://$PROJECT_DIR$/smartfarm_page/views.py</url>\r\n          <line>60</line>\r\n          <option name=\"timeStamp\" value=\"1\" />\r\n        </line-breakpoint>\r\n      </breakpoints>\r\n    </breakpoint-manager>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/workspace.xml	(revision 90895c301d44eee15bce21b31d3afd61a6f8328b)
+++ .idea/workspace.xml	(date 1646889717767)
@@ -77,6 +77,7 @@
     <recent_temporary>
       <list>
         <item itemvalue="Python.trial" />
+        <item itemvalue="Python.trial" />
       </list>
     </recent_temporary>
   </component>
Index: smartfarm_page/templates/kid_data_fileupload.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{% load static %}\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>dataupload</title>\r\n</head>\r\n<link rel=\"shortcut icon\" href=\"img/favicon.ico\" type=\"image/x-icon\">\r\n\r\n<!-- Bootstrap -->\r\n<link rel=\"stylesheet\" type=\"text/css\"  href=\"{% static 'smartfarm_page/css/kids/bootstrap.css' %}?after\">\r\n<link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'smartfarm_page/css/kids/font-awesome.css' %}?after\">\r\n\r\n<!-- Slider\r\n    ================================================== -->\r\n<link href=\"{% static 'smartfarm_page/css/kids/owl.carousel.css' %}?after\" rel=\"stylesheet\" media=\"screen\">\r\n<link href=\"{% static 'smartfarm_page/css/kids/owl.theme.css' %}?after\" rel=\"stylesheet\" media=\"screen\">\r\n<link href=\"{% static 'smartfarm_page/css/kids/animate.css' %}?after\" rel=\"stylesheet\" media=\"screen\">\r\n<link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css\">\r\n<!--Using JS-->\r\n<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n<!-- Stylesheet\r\n\r\n\r\n    ================================================== -->\r\n<link rel=\"stylesheet\" type=\"text/css\"  href=\"{% static 'smartfarm_page/css/stylehj.css' %}?after\">\r\n<link href='https://fonts.googleapis.com/css?family=PT+Serif:400,400i,700|Montserrat:100,200,300,300i,400,500,600,700,800,900' rel='stylesheet' type='text/css'>\r\n<!-- 글꼴 -->\r\n<link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\r\n<link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\r\n<link href=\"https://fonts.googleapis.com/css2?family=Jua&display=swap\" rel=\"stylesheet\">\r\n\r\n<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->\r\n<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->\r\n<!--[if lt IE 9]>\r\n<script src=\"https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js\"></script>\r\n<script src=\"https://oss.maxcdn.com/respond/1.4.2/respond.min.js\"></script>\r\n    <![endif]-->\r\n</head>\r\n<body class=\"page\">\r\n<!-- Navigation\r\n    ==========================================-->\r\n<nav id=\"top-menu\" class=\"navbar navbar-default navbar-fixed-top\">\r\n  <div class=\"container\">\r\n    <!-- Brand and toggle get grouped for better mobile display -->\r\n    <div class=\"navbar-header\">\r\n      <button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#bs-example-navbar-collapse-1\"> <span class=\"sr-only\">Toggle navigation</span> <span class=\"icon-bar\"></span> <span class=\"icon-bar\"></span> <span class=\"icon-bar\"></span> </button>\r\n      <a class=\"navbar-brand\" href=\"{% url 'main'%}\"><img src=\"{% static 'smartfarm_page/assets/img/logo.png' %}?after\" class=\"img-responsive\"><span style=\" color:#525249;\">공공융합플랫폼</span></a> </div>\r\n    <!-- Collect the nav links, forms, and other content for toggling -->\r\n    <div class=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\r\n      <!--nav icon-->\r\n      <a id=\"nav-icon\" style=\" color:#525249;\"> <span></span> <span></span> <span></span> </a>\r\n      <!--nav icon end-->\r\n      <ul id=\"nav-top\" class=\"nav navbar-nav navbar-right\" style=\" color:#525249;\">\r\n         <li><a href=\"{% url 'main'%}\" class=\"page-scroll\"style=\" color:#525249;\">Home</a></li>\r\n         <li><a href=\"{% url 'str_smartfarm1'%}\" class=\"page-scroll\"style=\" color:#525249;\">딸기 스마트팜</a></li>\r\n         <li><a href=\"{% url 'kids_pattern1'%}\" class=\"page-scroll\"style=\" color:#525249;\">영유아 스마트 케어</a></li>\r\n         <li><a href=\"{% url 'covid19'%}\" class=\"page-scroll\"style=\" color:#525249;\">코로나19 현황 분석</a></li>\r\n      </ul>\r\n    </div>\r\n    <!-- /.navbar-collapse -->\r\n  </div>\r\n  <!-- /.container-fluid -->\r\n</nav>\r\n<style>\r\n   .jb-text {\r\n   border-top-left-radius:15px; border-bottom-left-radius:15px;\r\n   border-top-right-radius:15px; border-bottom-right-radius:15px;\r\n   background-color: white;\r\n   text-align: left;\r\n   border: 2px solid #000000;\r\n         }\r\n</style>\r\n<!-- banner Page\r\n    ==========================================-->\r\n<div id=\"page-banner\" >\r\n  <div class=\"content  wow fdeInUp\">\r\n    <div class=\"container \">\r\n        <div style=\"float: center;\">\r\n            {% if not_pass %}\r\n            <h2 style=\"font-family: 'Jua', sans-serif;\">잘못된 접근입니다. 돌아가기</h2>\r\n            <h4><a href=\"{% url 'kids_pattern1'%}\" ><img src=\"{% static 'smartfarm_page/assets/img/return.png' %}\" width=\"40\" height=\"40\" alt=\"\"></a></h4>\r\n            <br><br><br>\r\n            {% elif Succeeded %}\r\n            <div style=\"float: center;\">\r\n                <h1 style=\"font-family: 'Jua', sans-serif;\">저장 성공</h1>\r\n                <h2 style=\"font-family: 'Jua', sans-serif;\">영유아 페이지로 돌아가기<a href=\"{% url 'kids_pattern1'%}\" ><img src=\"{% static 'smartfarm_page/assets/img/return.png' %}\" width=\"40\" height=\"40\" alt=\"\"></a></h2>\r\n            </div>\r\n            {% else %}\r\n            <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"jb-text\" style=\"padding: 20px 100px; font-family: 'Jua', sans-serif;\"> <!-- 블록 가운데 정렬-->\r\n                        <form method=\"post\" action=\"{% url 'kid_data_upload' %}\" enctype=\"multipart/form-data\">\r\n                            {% csrf_token %}    <!-- 보안을 위해 반드시 필요. 없으면 장고에서 request 거절-->\r\n                            <div class=\"file-drop-area\">\r\n                                <span class=\"choose-file-button\"style=\" color:#ebbf7a; font-size: 35px; font-weight: 600;\"> .csv 파일 선택</span>\r\n                                <span class=\"file-message\"style=\" color:#ebbf7a; font-size: 35px; font-weight: 600;\">&nbsp;또는 여기로 파일을 드래그해 가져와 주세요.</span>\r\n                                <input class=\"file-input\" name=\"upload_kid_data\" id=\"upload_kid_data\" type=\"file\" multiple required>\r\n                            </div>\r\n                            <div class=\"row mb-3\"></div>\r\n                            <div class=\"text-center\"><input type=\"submit\" class=\"btn btn-success col-3\" value=\"선택 완료\"></div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {% endif %}\r\n            {% if file %}\r\n            <form action=\"{% url 'input_kid_data'%}\" method=\"POST\"><br><br><br>\r\n                {% csrf_token %}\r\n                <div name=\"yes\" class=\"jb-text\" style=\"padding: 20px 100px; font-family: 'Jua', sans-serif;\">\r\n                    <center></center>\r\n                    <h4 class=\"text-center\">'Date', 'HeartRate', 'Km', 'sc_', 'Cal', 'ID', 'Day', 'Time', 'week', 'error', 'Name', 'Zsc'</h4>\r\n                    <h4 class=\"text-center\"> 형태의 파일만을 지원합니다.</h4><br>\r\n                    <h3 class=\"text-center\">{{ file }} 을 DB에 저장하시겠습니까?</h3>\r\n                    <div class=\"text-center\" style=\" margin-right:20px; \">\r\n                        <button type=\"submit\" class=\"btn btn-primary\" style=\"border-top-left-radius:5px; border-bottom-left-radius:5px; border: 1px solid black; background-color: rgba(0,0,0,0); color: black; padding: 5px;\">확인</button>\r\n                    </center>\r\n                    </div><br>\r\n                    {% endif %}\r\n\r\n\r\n</body>\r\n</html>\r\n<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\"></script>\r\n<!-- Include all compiled plugins (below), or include individual files as needed -->\r\n<script type=\"text/javascript\" src=\"{% static 'smartfarm_page/js/kids/bootstrap.js' %}\"></script>\r\n<script type=\"text/javascript\" src=\"{% static 'smartfarm_page/js/kids/SmoothScroll.js' %}\"></script>\r\n<script type=\"text/javascript\" src=\"{% static 'smartfarm_page/js/kids/jquery.isotope.js' %}\"></script>\r\n<script src=\"{% static 'smartfarm_page/js/kids/owl.carousel.js' %}\"></script>\r\n<script src=\"{% static 'smartfarm_page/js/kids/jquery.waypoints.min.js' %}\"></script>\r\n<!-- Javascripts\r\n    ================================================== -->\r\n<script type=\"text/javascript\" src=\"{% static 'smartfarm_page/js/kids/main.js' %}\"></script>\r\n<script src=\"{% static 'smartfarm_page/js/kids/wow.min.js' %}\"></script>\r\n<script src=\"https://cdn.startbootstrap.com/sb-forms-latest.js\"></script>
===================================================================
--- smartfarm_page/templates/kid_data_fileupload.html	(revision 90895c301d44eee15bce21b31d3afd61a6f8328b)
+++ smartfarm_page/templates/kids_data_fileupload.html	(date 1646889633275)
@@ -78,24 +78,24 @@
     <div class="container ">
         <div style="float: center;">
             {% if not_pass %}
-            <h2 style="font-family: 'Jua', sans-serif;">잘못된 접근입니다. 돌아가기</h2>
-            <h4><a href="{% url 'kids_pattern1'%}" ><img src="{% static 'smartfarm_page/assets/img/return.png' %}" width="40" height="40" alt=""></a></h4>
+            <h1 style="font-family: 'Jua', sans-serif;">잘못된 접근입니다. 돌아가기</h1>
+            <h4><a href="{% url 'kids_pattern1'%}" ><img src="{% static 'smartfarm_page/assets/img/return.png' %}" width="100" height="100" alt=""></a></h4>
             <br><br><br>
             {% elif Succeeded %}
             <div style="float: center;">
                 <h1 style="font-family: 'Jua', sans-serif;">저장 성공</h1>
-                <h2 style="font-family: 'Jua', sans-serif;">영유아 페이지로 돌아가기<a href="{% url 'kids_pattern1'%}" ><img src="{% static 'smartfarm_page/assets/img/return.png' %}" width="40" height="40" alt=""></a></h2>
+                <h2 style="font-family: 'Jua', sans-serif;">영유아 페이지로 돌아가기<a href="{% url 'kids_pattern1'%}" ><img src="{% static 'smartfarm_page/assets/img/return.png' %}" width="100" height="100" alt=""></a></h2>
             </div>
             {% else %}
             <div class="row">
                 <div class="col-md-12">
                     <div class="jb-text" style="padding: 20px 100px; font-family: 'Jua', sans-serif;"> <!-- 블록 가운데 정렬-->
-                        <form method="post" action="{% url 'kid_data_upload' %}" enctype="multipart/form-data">
+                        <form method="post" action="{% url 'kids_data_upload' %}" enctype="multipart/form-data">
                             {% csrf_token %}    <!-- 보안을 위해 반드시 필요. 없으면 장고에서 request 거절-->
                             <div class="file-drop-area">
                                 <span class="choose-file-button"style=" color:#ebbf7a; font-size: 35px; font-weight: 600;"> .csv 파일 선택</span>
                                 <span class="file-message"style=" color:#ebbf7a; font-size: 35px; font-weight: 600;">&nbsp;또는 여기로 파일을 드래그해 가져와 주세요.</span>
-                                <input class="file-input" name="upload_kid_data" id="upload_kid_data" type="file" multiple required>
+                                <input class="file-input" name="upload_kids_data" id="upload_kids_data" type="file" multiple required>
                             </div>
                             <div class="row mb-3"></div>
                             <div class="text-center"><input type="submit" class="btn btn-success col-3" value="선택 완료"></div>
@@ -105,12 +105,13 @@
             </div>
             {% endif %}
             {% if file %}
-            <form action="{% url 'input_kid_data'%}" method="POST"><br><br><br>
+            <br><br><br><img src="{% static 'smartfarm_page/assets/img/down_.png' %}" width="120" height="120" alt="">
+            <form action="{% url 'input_kids_data'%}" method="POST"><br><br><br>
                 {% csrf_token %}
                 <div name="yes" class="jb-text" style="padding: 20px 100px; font-family: 'Jua', sans-serif;">
                     <center></center>
                     <h4 class="text-center">'Date', 'HeartRate', 'Km', 'sc_', 'Cal', 'ID', 'Day', 'Time', 'week', 'error', 'Name', 'Zsc'</h4>
-                    <h4 class="text-center"> 형태의 파일만을 지원합니다.</h4><br>
+                    <h4 class="text-center"> 구조의 파일만을 지원합니다.</h4><br>
                     <h3 class="text-center">{{ file }} 을 DB에 저장하시겠습니까?</h3>
                     <div class="text-center" style=" margin-right:20px; ">
                         <button type="submit" class="btn btn-primary" style="border-top-left-radius:5px; border-bottom-left-radius:5px; border: 1px solid black; background-color: rgba(0,0,0,0); color: black; padding: 5px;">확인</button>
Index: smartfarm_page/templates/result.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{% load static %}\r\n\r\n<!doctype html>\r\n<html>\r\n<head>\r\n<!-- Basic Page Needs\r\n    ================================================== -->\r\n<meta charset=\"utf-8\">\r\n<!--[if IE]><meta http-equiv=\"x-ua-compatible\" content=\"IE=9\" /><![endif]-->\r\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n<title>영유아보육안전</title>\r\n<meta name=\"description\" content=\"\">\r\n<meta name=\"author\" content=\"\">\r\n\r\n<!-- Favicons\r\n    ================================================== -->\r\n<link rel=\"shortcut icon\" href=\"img/favicon.ico\" type=\"image/x-icon\">\r\n\r\n<!-- Bootstrap -->\r\n<link rel=\"stylesheet\" type=\"text/css\"  href=\"{% static 'smartfarm_page/css/kids/bootstrap.css' %}?after\">\r\n<link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'smartfarm_page/css/kids/font-awesome.css' %}?after\">\r\n\r\n<!-- Slider\r\n    ================================================== -->\r\n<link href=\"{% static 'smartfarm_page/css/kids/owl.carousel.css' %}?after\" rel=\"stylesheet\" media=\"screen\">\r\n<link href=\"{% static 'smartfarm_page/css/kids/owl.theme.css' %}?after\" rel=\"stylesheet\" media=\"screen\">\r\n<link href=\"{% static 'smartfarm_page/css/kids/animate.css' %}?after\" rel=\"stylesheet\" media=\"screen\">\r\n<link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css\">\r\n<!--Using JS-->\r\n<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n<!-- Stylesheet\r\n\r\n\r\n    ================================================== -->\r\n<link rel=\"stylesheet\" type=\"text/css\"  href=\"{% static 'smartfarm_page/css/stylehj.css' %}?after\">\r\n<link href='https://fonts.googleapis.com/css?family=PT+Serif:400,400i,700|Montserrat:100,200,300,300i,400,500,600,700,800,900' rel='stylesheet' type='text/css'>\r\n<!-- 글꼴 -->\r\n<link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\r\n<link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\r\n<link href=\"https://fonts.googleapis.com/css2?family=Jua&display=swap\" rel=\"stylesheet\">\r\n\r\n<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->\r\n<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->\r\n<!--[if lt IE 9]>\r\n<script src=\"https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js\"></script>\r\n<script src=\"https://oss.maxcdn.com/respond/1.4.2/respond.min.js\"></script>\r\n    <![endif]-->\r\n</head>\r\n<body class=\"page\" style=\"background-image: url({% static 'smartfarm_page/assets/img/kid_page.jpg' %})\">\r\n<!-- Navigation\r\n    ==========================================-->\r\n<nav id=\"top-menu\" class=\"navbar navbar-default navbar-fixed-top\">\r\n  <div class=\"container\">\r\n    <!-- Brand and toggle get grouped for better mobile display -->\r\n    <div class=\"navbar-header\">\r\n      <button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#bs-example-navbar-collapse-1\"> <span class=\"sr-only\">Toggle navigation</span> <span class=\"icon-bar\"></span> <span class=\"icon-bar\"></span> <span class=\"icon-bar\"></span> </button>\r\n      <a class=\"navbar-brand\" href=\"{% url 'main'%}\"><img src=\"{% static 'smartfarm_page/assets/img/logo.png' %}?after\" class=\"img-responsive\"><span style=\" color:#525249;\">공공융합플랫폼</span></a> </div>\r\n    <!-- Collect the nav links, forms, and other content for toggling -->\r\n    <div class=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\r\n      <!--nav icon-->\r\n      <a id=\"nav-icon\" style=\" color:#525249;\"> <span></span> <span></span> <span></span> </a>\r\n      <!--nav icon end-->\r\n      <ul id=\"nav-top\" class=\"nav navbar-nav navbar-right\" style=\" color:#525249;\">\r\n         <li><a href=\"{% url 'main'%}\" class=\"page-scroll\"style=\" color:#525249;\">Home</a></li>\r\n         <li><a href=\"{% url 'str_smartfarm1'%}\" class=\"page-scroll\"style=\" color:#525249;\">딸기 스마트팜</a></li>\r\n         <li><a href=\"{% url 'kids_pattern1'%}\" class=\"page-scroll\"style=\" color:#525249;\">영유아 스마트 케어</a></li>\r\n         <li><a href=\"{% url 'covid19'%}\" class=\"page-scroll\"style=\" color:#525249;\">코로나19 현황 분석</a></li>\r\n      </ul>\r\n    </div>\r\n    <!-- /.navbar-collapse -->\r\n  </div>\r\n  <!-- /.container-fluid -->\r\n</nav>\r\n<style>\r\n   .jb-text {\r\n   border-top-left-radius:15px; border-bottom-left-radius:15px;\r\n   border-top-right-radius:15px; border-bottom-right-radius:15px;\r\n   background-color: white;\r\n   text-align: left;\r\n   border: 2px solid #000000;\r\n         }\r\n</style>\r\n<!-- banner Page\r\n    ==========================================-->\r\n<div id=\"page-banner\" style=\"background-image: url({% static 'smartfarm_page/assets/img/kid_page1.jpg' %});\">\r\n  <div class=\"content  wow fdeInUp\">\r\n    <div class=\"container \">\r\n        <div style=\"float: center;\">\r\n            {% if not_exist %}\r\n            <h2 style=\"font-family: 'Jua', sans-serif;\">잘못된 정보입니다. 다시 확인해주세요.</h2>\r\n            <h4><a href=\"{% url 'kids_pattern1'%}\" ><img src=\"{% static 'smartfarm_page/assets/img/return.png' %}\" width=\"40\" height=\"40\" alt=\"\"></a></h4>\r\n            <br><br><br>\r\n            {% else %}\r\n        </div>\r\n        <div style=\"float: left; margin-right:20px; \">\r\n            {% if a.values.get.성별 == '남' %}\r\n            <h2 style=\"text-align:justify\"><img src=\"{% static 'smartfarm_page/assets/img/boy.png' %}\" width=\"190\" height=\"190\" alt=\"\"></h2>\r\n            {% else %}\r\n            <h2 style=\"text-align:justify\"><img src=\"{% static 'smartfarm_page/assets/img/girl.png' %}\" width=\"190\" height=\"190\" alt=\"\"></h2>\r\n            {% endif %}\r\n        </div><br><br><br><br><br><br><br><br><br><br>\r\n        <div class=\"jb-text\" style=\"padding: 20px 100px; font-family: 'Jua', sans-serif;\">\r\n            <h2 style=\"float: right; font-family: 'Jua', sans-serif;\"> 어린이집  : {{ a.values.get.어린이집 }} <br>반&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: {{ a.values.get.반 }}<br> 성향&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: {{ a.values.get.성향 }}  </h2>\r\n            <h2 style=\"font-family: 'Jua', sans-serif;\"> 이름 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: {{name}} <br> 성별 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: {{ a.values.get.성별 }} <br> 생년월일 : {{birth}} </h2>\r\n        </div>\r\n\r\n        <div class=\"container \">\r\n            <div style=\"float: right;\">\r\n                <form action=\"{% url 'pick_part'%}\" method=\"POST\">\r\n                    {% csrf_token %}\r\n                    <div class=\"form-group\">\r\n                        <div style=\"float: left; margin-light:20px; \"><br><br>\r\n                            <label style=\" font-size:15px; text-align:justify;font-family: 'Jua', sans-serif;\">1. 일별</label>\r\n                            <input type=\"radio\" name=\"day[]\" value=\"day\" />\r\n                        </div>\r\n                        <div style=\"float: left; margin-light:20px; \"><br><br>\r\n                            <label style=\" font-size:15px; text-align:justify;font-family: 'Jua', sans-serif;\">2. 요일별</label>\r\n                            <input type=\"radio\" name=\"day[]\" value=\"week\" />\r\n                        </div>\r\n                        <div style=\"float: left; margin-light:20px; \"><br><br>\r\n                            <label style=\" font-size:15px; text-align:justify;font-family: 'Jua', sans-serif;\">3. 월별</label>\r\n                            <input type=\"radio\" name=\"day[]\" value=\"month\" />\r\n                        </div>\r\n                        <div style=\"float: left; margin-light:20px; \"><br><br>\r\n                            <button type=\"submit\" class=\"btn btn-primary\" style=\"border-top-left-radius:5px; border-bottom-left-radius:5px; border: 1px solid black; background-color: rgba(0,0,0,0); color: black; padding: 5px;\">확인</button>\r\n                            <br><br>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!--page body-->\r\n<div class=\"container\">\r\n    <div class=\"row\">\r\n        <h3 style=\"color:#ebbf7a; font-size: 35px; font-weight: 600;font-family: 'Jua', sans-serif;\">{{ pick }}</h3>\r\n        <div class=\"jb-text\"style=\" padding: 30px 20px;\">\r\n            <center>\r\n                {% if days %}\r\n                <form action=\"{% url 'pick_date'%}\" method=\"POST\">\r\n                    {% csrf_token %}\r\n                    <div style=\"float: left; margin-right:20px; \"><br><br>\r\n                        <label  style=\"font-size:15px; text-align:justify;font-family: 'Jua', sans-serif;\">1. 일별 : 날짜 선택 </label>\r\n                        <input name=\"date_pick\" type=\"date\"  class=\"form-control\"  min=\"2021-06-01\" max=\"2022-02-18\"  style=\"height:45px;width:120;font-size:15px; text-align:justify;\" required>\r\n                    </div>\r\n                    <div style=\"float: left; margin-right:20px; \"><br><br><br><br>\r\n                        <button type=\"submit\" class=\"btn btn-primary\" style=\"border-top-left-radius:5px; border-bottom-left-radius:5px; border: 1px solid black; background-color: rgba(0,0,0,0); color: black; padding: 5px;\">확인</button>\r\n                        <br><br>\r\n                    </div><br><br><br><br><br><br><br>\r\n                </form>\r\n                {% elif month %}\r\n                <form action=\"{% url 'pick_month'%}\" method=\"POST\">\r\n                    {% csrf_token %}\r\n                    <div style=\"float: left; margin-right:10px; \"><br><br>\r\n                        <label  style=\"font-size:15px; text-align:justify;font-family: 'Jua', sans-serif;\">3. 월별 : 월 선택 </label>\r\n                        <select name=\"month\" class=\"form-control\" placeholder=\"month\" style=\"height:45px;font-size:15px;\">\r\n                            <optgroup label=\"예닮어린이집\">\r\n                                <option value=\"1\">1</option>\r\n                                <option value=\"2\" disabled>2</option>\r\n                                <option value=\"3\" disabled>3</option>\r\n                                <option value=\"4\" disabled>4</option>\r\n                                <option value=\"5\" disabled>5</option>\r\n                                <option value=\"6\" disabled>6</option>\r\n                                <option value=\"7\" disabled>7</option>\r\n                                <option value=\"8\" disabled>8</option>\r\n                                <option value=\"9\" disabled>9</option>\r\n                                <option value=\"10\" disabled>10</option>\r\n                                <option value=\"11\" disabled>11</option>\r\n                                <option value=\"12\" disabled>12</option>\r\n                            </optgroup>\r\n                            <optgroup label=\"평택어린이집\">\r\n                                <option value=\"6\" >6월</option>\r\n                            </optgroup>\r\n                        </select><br>\r\n                    </div>\r\n                    <div style=\"float: left; margin-right:20px; \"><br><br><br><br>\r\n                        <button type=\"submit\" class=\"btn btn-primary\" style=\"border-top-left-radius:5px; border-bottom-left-radius:5px; border: 1px solid black; background-color: rgba(0,0,0,0); color: black; padding: 5px;\">확인</button>\r\n                    </div><br>\r\n                    <div class=\"row mb-3\"></div>\r\n                </form>\r\n                    {% endif %}\r\n                    {% if not_day %}\r\n                    <h3 >⚠️ 해당 날에는 데이터가 없습니다. 다시 확인해주세요. ⚠️</h3>\r\n                    <form action=\"{% url 'pick_date'%}\" method=\"POST\">\r\n                        {% csrf_token %}\r\n                        <div style=\"float: left; margin-right:padding:10px 0px; \"><br><br>\r\n                        <label  style=\"font-size:15px; text-align:justify\">1. 일별 : 날짜 선택 </label>\r\n                        <input name=\"date_pick\" type=\"date\"  class=\"form-control\"  min=\"2021-06-01\" max=\"2022-02-18\"  style=\"height:45px;width:120;font-size:15px; text-align:justify;\" required>\r\n                        </div>\r\n                <div style=\"float: left; margin-right:20px; \"><br><br><br><br>\r\n                    <button type=\"submit\" class=\"btn btn-primary\" style=\"border-top-left-radius:5px; border-bottom-left-radius:5px; border: 1px solid black; background-color: rgba(0,0,0,0); color: black; padding: 5px;\">확인</button>\r\n                    <br><br>\r\n                </div><br><br><br><br><br><br><br>\r\n            </form>\r\n            {% endif %}\r\n                {% if Active %}\r\n                <div class=\"flex-container\"; style=\" padding:0px 0px;\">\r\n                        <div class=\"container px-xl-6 bg-center\">\r\n                            <div class=\"col-sm-6\">\r\n                                <div class=\"card shadow mb-4\" style=\"border:0px;\">\r\n                                    <div class=\"card-body\">\r\n                                        <div class=\"chart-area\">\r\n                                            <h2 style=\" text-align: center;font-family: 'Jua', sans-serif ;\"><img src=\"{% static 'smartfarm_page/assets/img/e4.png' %}\" width=\"400\" height=\"300\" alt=\"\"><br>활동량 : 다소 활동적</h2>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-6\" >\r\n                                <div class=\"card shadow mb-4\"style=\"border:0px;\">\r\n                                    <div class=\"card-body\">\r\n                                        <div class=\"chart-area\">\r\n                                            <h2 style=\"font-family: 'Jua', sans-serif;\"><br><br><br>{{ name }}의 하루평균 심박수는 {{heartrate}}bp,<br> 하루 한시간평균 걸음수는 {{stepcount}}입니다.<br>비교적으로 {{ max_zsc }}에 활동량이 많으며 <br> {{ min_zsc }}에 활동량이 낮습니다. </h2>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                {% elif inactive %}\r\n                <div class=\"flex-container\"; style=\" padding:0px 0px;\">\r\n                        <div class=\"container px-xl-6 bg-center\">\r\n                            <div class=\"col-sm-6\">\r\n                                <div class=\"card shadow mb-4\" style=\"border:0px;\">\r\n                                    <div class=\"card-body\">\r\n                                        <div class=\"chart-area\">\r\n                                            <h2 style=\" text-align: center;font-family: 'Jua', sans-serif ;\"><img src=\"{% static 'smartfarm_page/assets/img/e2.png' %}\" width=\"400\" height=\"300\" alt=\"\"><br>활동량 : 다소 차분함</h2>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-6\" >\r\n                                <div class=\"card shadow mb-4\"style=\"border:0px;\">\r\n                                    <div class=\"card-body\">\r\n                                        <div class=\"chart-area\">\r\n                                            <h2 style=\"font-family: 'Jua', sans-serif;\"><br><br><br>{{ name }}의 하루평균 심박수는 {{heartrate}}bp,<br> 하루 한시간평균 걸음수는 {{stepcount}}입니다.<br>비교적으로 {{ max_zsc }}에 활동량이 많으며 <br> {{ min_zsc }}에 활동량이 낮습니다. </h2>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                {% elif normal %}\r\n                    <div class=\"flex-container\"; style=\" padding:0px 0px;\">\r\n                        <div class=\"container px-xl-6 bg-center\">\r\n                            <div class=\"col-sm-6\">\r\n                                <div class=\"card shadow mb-4\" style=\"border:0px;\">\r\n                                    <div class=\"card-body\">\r\n                                        <div class=\"chart-area\">\r\n                                            <h2 style=\" text-align: center;font-family: 'Jua', sans-serif ;\"><img src=\"{% static 'smartfarm_page/assets/img/e3.png' %}\" width=\"450\" height=\"300\" alt=\"\"><br>활동량 : 평균</h2>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-6\" >\r\n                                <div class=\"card shadow mb-4\"style=\"border:0px;\">\r\n                                    <div class=\"card-body\">\r\n                                        <div class=\"chart-area\">\r\n                                            <h2 style=\"font-family: 'Jua', sans-serif;\"><br><br><br>{{ name }}의 하루평균 심박수는 {{heartrate}}bp,<br> 하루 한시간평균 걸음수는 {{stepcount}}입니다.<br>비교적으로 {{ max_zsc }}에 활동량이 많으며 <br> {{ min_zsc }}에 활동량이 낮습니다. </h2>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                {% endif %}\r\n                <div class=\"flex-container\"; style=\" padding:0px 0px;\">\r\n                    <div class=\"container px-xl-6 bg-center\">\r\n                        <div class=\"col-sm-6\">\r\n                            <div class=\"card shadow mb-4\">\r\n                                <div class=\"card-header py-3\">\r\n                                    <h6 class=\"m-0 font-weight-bold text-primary\" >심박수</h6>\r\n                                </div>\r\n                                <div class=\"card-body\">\r\n                                    <div class=\"chart-area\">\r\n                                        <canvas id=\"heartrate\" width=\"1200\" height=\"700\"></canvas>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-sm-6\" >\r\n                            <div class=\"card shadow mb-4\">\r\n                                <div class=\"card-header py-3\">\r\n                                    <h6 class=\"m-0 font-weight-bold text-primary\">걸음수</h6>\r\n                                </div>\r\n                                <div class=\"card-body\">\r\n                                    <div class=\"chart-area\">\r\n                                        <canvas id=\"stepcount\" width=\"1200\" height=\"700\"></canvas>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div><br><br>\r\n                <div class=\"flex-container\"; style=\" padding:0px 0px;\">\r\n                    <div class=\"container px-xl-6 bg-light\">\r\n                        <div class=\"col-sm-6\">\r\n                            <div class=\"card shadow mb-4\">\r\n                                <div class=\"card-header py-3\">\r\n                                    <h6 class=\"m-0 font-weight-bold text-primary\" >km</h6>\r\n                                </div>\r\n                                <div class=\"card-body\">\r\n                                    <div class=\"chart-area\">\r\n                                        <canvas id=\"km\" width=\"1200\" height=\"700\"></canvas>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-sm-6\" >\r\n                            <div class=\"card shadow mb-4\">\r\n                                <div class=\"card-header py-3\">\r\n                                    <h6 class=\"m-0 font-weight-bold text-primary\">칼로리</h6>\r\n                                </div>\r\n                                <div class=\"card-body\">\r\n                                    <div class=\"chart-area\">\r\n                                        <canvas id=\"cal\" width=\"1200\" height=\"700\"></canvas>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n{% endif %}\r\n                <br><br><br>\r\n                <a href=\"/images/myw3schoolsimage.pdf\" download=\"newfilename\">Download the pdf &nbsp; <img src=\"{% static 'smartfarm_page/assets/img/down.png' %}\" width=\"40\" height=\"40\" alt=\"\"></a>\r\n                <br><br><br>\r\n            </center>\r\n        </div>\r\n    </div>\r\n</div>\r\n<footer class=\"footer bg-light\" style=\"background-image: url({% static 'smartfarm_page/assets/img/kid_page3.jpg' %})\">\r\n    <div class=\"row mb-5\"></div>\r\n    <br><br><br>\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-6 h-100 text-center text-lg-start my-auto\">\r\n                <ul class=\"list-inline mb-2\">\r\n                    <li class=\"list-inline-item\"><a href=\"https://aict.snu.ac.kr/?p=18\">연구원 소개</a></li>\r\n                    <li class=\"list-inline-item\">⋅</li>\r\n                    <li class=\"list-inline-item\"><a href=\"https://aict.snu.ac.kr/?p=31\">공공융합플랫폼 소개</a></li>\r\n                    <li class=\"list-inline-item\">⋅</li>\r\n                    <li class=\"list-inline-item\"><a href=\"https://aict.snu.ac.kr/?p=17\">찾아오시는길</a></li>\r\n                    <li class=\"list-inline-item\">⋅</li>\r\n                    <li class=\"list-inline-item\"><a href=\"https://aict.snu.ac.kr/?p=125\">개인정보처리방침</a></li>\r\n                </ul>\r\n                <p class=\"text-muted small mb-4 mb-lg-0\">&copy;ADVANCED INSTITUTE OF CONVERGENCE TECHNOLOGY ALL RIGHTS RESERVED. </p>\r\n            </div>\r\n            <div class=\"col-lg-6 h-100 text-center text-lg-end my-auto\" >\r\n                <ul class=\"list-inline mb-0\">\r\n                    <li class=\"list-inline-item me-4\">\r\n                        <a href=\"https://aict.snu.ac.kr/\">\r\n                            <img src=\"{% static 'smartfarm_page/assets/img/aict_logo.png' %}\" width=\"43\" height=\"43\" alt=\"\">\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"list-inline-item me-4\">\r\n                        <a href=\"https://www.snu.ac.kr/\">\r\n                            <img src=\"{% static 'smartfarm_page/assets/img/snu_logo.png' %}\" width=\"43\" height=\"43\" alt=\"\">\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"list-inline-item me-4\">\r\n                        <a href=\"https://www.gg.go.kr/\">\r\n                            <img src=\"{% static 'smartfarm_page/assets/img/ggd_logo.png' %}\" width=\"55\" height=\"25\" alt=\"\">\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div><br><br>\r\n</footer>\r\n<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->\r\n<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\"></script>\r\n<!-- Include all compiled plugins (below), or include individual files as needed -->\r\n<script type=\"text/javascript\" src=\"{% static 'smartfarm_page/js/kids/bootstrap.js' %}\"></script>\r\n<script type=\"text/javascript\" src=\"{% static 'smartfarm_page/js/kids/SmoothScroll.js' %}\"></script>\r\n<script type=\"text/javascript\" src=\"{% static 'smartfarm_page/js/kids/jquery.isotope.js' %}\"></script>\r\n<script src=\"{% static 'smartfarm_page/js/kids/owl.carousel.js' %}\"></script>\r\n<script src=\"{% static 'smartfarm_page/js/kids/jquery.waypoints.min.js' %}\"></script>\r\n<!-- Javascripts\r\n    ================================================== -->\r\n<script type=\"text/javascript\" src=\"{% static 'smartfarm_page/js/kids/main.js' %}\"></script>\r\n<script src=\"{% static 'smartfarm_page/js/kids/wow.min.js' %}\"></script>\r\n<script src=\"https://cdn.startbootstrap.com/sb-forms-latest.js\"></script>\r\n<!-- Page level plugins -->\r\n<script src=\"{% static 'smartfarm_page/js/Chart.min.js' %}\"></script>\r\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js\"></script>\r\n<!-- Page level custom scripts -->\r\n<script src=\"{% static 'smartfarm_page/js/chart-area-demo.js' %}\"></script>\r\n<script>\r\nnew Chart(document.getElementById(\"heartrate\"), {\r\n            type: 'bar',\r\n              data: {\r\n                labels:{{ ch_la | safe }},\r\n                datasets: [{\r\n                    data: {{ hr_kid }},\r\n                    label: '개인',\r\n                    type : 'bar',\r\n                    backgroundColor: 'rgba(255, 89, 0, 0.36)',\r\n                    borderColor: 'rgba(255, 89, 0, 0.79)',\r\n                    borderWidth: 1,\r\n                    fill: false,\r\n                    tension:0\r\n                  },\r\n                  {\r\n                    data: {{ hr_all }},\r\n                    label: '반 평균',\r\n                    type : 'bar',\r\n                    backgroundColor: 'rgba(39, 141, 0, 0.36)',\r\n                    borderColor: 'rgba(39, 141, 0, 0.79)',\r\n                    borderWidth: 1,\r\n                    fill: false,\r\n                    tension:0,\r\n                  }\r\n                ]\r\n              },\r\n\r\n              options: {\r\n                title: {\r\n                  display: true,\r\n                },\r\n                scales: {\r\n                    xAxes: [\r\n                      {\r\n                        scaleLabel: {\r\n                          display: true,\r\n                          labelString: \"\",\r\n                        },\r\n                         stacked: \"true\",\r\n                      },\r\n                     ],\r\n                    yAxes: [\r\n                      {\r\n                        scaleLabel: {\r\n                          display: true,\r\n                          labelString: \"\"\r\n                         },\r\n                      },\r\n                     ],\r\n                  },\r\n                tooltips: {\r\n                mode:'x',\r\n                callbacks: {\r\n                    title : function(tooltipItems, data){\r\n                        var tooltipItem = tooltipItems[0];\r\n                            return data.labels[tooltipItem.index];\r\n                            },\r\n\r\n                    label: function(tooltipItems, data) {\r\n                              return tooltipItems.yLabel;\r\n                          }\r\n\r\n                  }\r\n                }\r\n                }\r\n            });\r\n\r\nnew Chart(document.getElementById(\"stepcount\"), {\r\n            type: 'bar',\r\n              data: {\r\n                labels:{{ ch_la | safe }},\r\n                datasets: [{\r\n                    data: {{ sc_kid }},\r\n                    label: '개인',\r\n                    type : 'bar',\r\n                    backgroundColor: 'rgba(255, 89, 0, 0.36)',\r\n                    borderColor: 'rgba(255, 89, 0, 0.79)',\r\n                    borderWidth: 1,\r\n                    fill: false,\r\n                    tension:0\r\n                  },\r\n                  {\r\n                    data: {{ sc_all }},\r\n                    label: '반 평균',\r\n                    type : 'bar',\r\n                    backgroundColor: 'rgba(39, 141, 0, 0.36)',\r\n                    borderColor: 'rgba(39, 141, 0, 0.79)',\r\n                    borderWidth: 1,\r\n                    fill: false,\r\n                    tension:0,\r\n                  }\r\n                ]\r\n              },\r\n\r\n              options: {\r\n                title: {\r\n                  display: true,\r\n                },\r\n                scales: {\r\n                    xAxes: [\r\n                      {\r\n                        scaleLabel: {\r\n                          display: true,\r\n                          labelString: \"\",\r\n                        },\r\n                         stacked: \"true\",\r\n                      },\r\n                     ],\r\n                    yAxes: [\r\n                      {\r\n                        scaleLabel: {\r\n                          display: true,\r\n                          labelString: \"\"\r\n                         },\r\n                      },\r\n                     ],\r\n                  },\r\n                tooltips: {\r\n                mode:'x',\r\n                callbacks: {\r\n                    title : function(tooltipItems, data){\r\n                        var tooltipItem = tooltipItems[0];\r\n                            return data.labels[tooltipItem.index];\r\n                            },\r\n\r\n                    label: function(tooltipItems, data) {\r\n                              return tooltipItems.yLabel;\r\n                          }\r\n\r\n                  }\r\n                }\r\n                }\r\n            });\r\n\r\n            new Chart(document.getElementById(\"km\"), {\r\n            type: 'bar',\r\n              data: {\r\n                labels:{{ ch_la | safe }},\r\n                datasets: [{\r\n                    data: {{ km_kid }},\r\n                    label: '개인',\r\n                    type : 'bar',\r\n                    backgroundColor: 'rgba(255, 89, 0, 0.36)',\r\n                    borderColor: 'rgba(255, 89, 0, 0.79)',\r\n                    borderWidth: 1,\r\n                    fill: false,\r\n                    tension:0\r\n                  },\r\n                  {\r\n                    data: {{km_all}},\r\n                    label: '반 평균',\r\n                    type : 'bar',\r\n                    backgroundColor: 'rgba(39, 141, 0, 0.36)',\r\n                    borderColor: 'rgba(39, 141, 0, 0.79)',\r\n                    borderWidth: 1,\r\n                    fill: false,\r\n                    tension:0,\r\n                  }\r\n                ]\r\n              },\r\n\r\n              options: {\r\n                title: {\r\n                  display: true,\r\n                },\r\n                scales: {\r\n                    xAxes: [\r\n                      {\r\n                        scaleLabel: {\r\n                          display: true,\r\n                          labelString: \"\",\r\n                        },\r\n                         stacked: \"true\",\r\n                      },\r\n                     ],\r\n                    yAxes: [\r\n                      {\r\n                        scaleLabel: {\r\n                          display: true,\r\n                          labelString: \"\"\r\n                         },\r\n                      },\r\n                     ],\r\n                  },\r\n                tooltips: {\r\n                mode:'x',\r\n                callbacks: {\r\n                    title : function(tooltipItems, data){\r\n                        var tooltipItem = tooltipItems[0];\r\n                            return data.labels[tooltipItem.index];\r\n                            },\r\n\r\n                    label: function(tooltipItems, data) {\r\n                              return tooltipItems.yLabel;\r\n                          }\r\n\r\n                  }\r\n                }\r\n                }\r\n            });\r\n\r\n            new Chart(document.getElementById(\"cal\"), {\r\n            type: 'bar',\r\n              data: {\r\n                labels:{{ ch_la | safe }},\r\n                datasets: [{\r\n                    data: {{ cal_kid }},\r\n                    label: '개인',\r\n                    type : 'bar',\r\n                    backgroundColor: 'rgba(255, 89, 0, 0.36)',\r\n                    borderColor: 'rgba(255, 89, 0, 0.79)',\r\n                    borderWidth: 1,\r\n                    fill: false,\r\n                    tension:0\r\n                  },\r\n                  {\r\n                    data: {{ cal_all }},\r\n                    label: '반 평균',\r\n                    type : 'bar',\r\n                    backgroundColor: 'rgba(39, 141, 0, 0.36)',\r\n                    borderColor: 'rgba(39, 141, 0, 0.79)',\r\n                    borderWidth: 1,\r\n                    fill: false,\r\n                    tension:0,\r\n                  }\r\n                ]\r\n              },\r\n\r\n              options: {\r\n                title: {\r\n                  display: true,\r\n                },\r\n                scales: {\r\n                    xAxes: [\r\n                      {\r\n                        scaleLabel: {\r\n                          display: true,\r\n                          labelString: \"\",\r\n                        },\r\n                         stacked: \"true\",\r\n                      },\r\n                     ],\r\n                    yAxes: [\r\n                      {\r\n                        scaleLabel: {\r\n                          display: true,\r\n                          labelString: \"\"\r\n                         },\r\n                      },\r\n                     ],\r\n                  },\r\n                tooltips: {\r\n                mode:'x',\r\n                callbacks: {\r\n                    title : function(tooltipItems, data){\r\n                        var tooltipItem = tooltipItems[0];\r\n                            return data.labels[tooltipItem.index];\r\n                            },\r\n\r\n                    label: function(tooltipItems, data) {\r\n                              return tooltipItems.yLabel;\r\n                          }\r\n\r\n                  }\r\n                }\r\n                }\r\n            });\r\n\r\n</script>\r\n  </body>\r\n\r\n</html>
===================================================================
--- smartfarm_page/templates/result.html	(revision 90895c301d44eee15bce21b31d3afd61a6f8328b)
+++ smartfarm_page/templates/kids_result.html	(date 1646889633279)
@@ -46,7 +46,7 @@
 <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
     <![endif]-->
 </head>
-<body class="page" style="background-image: url({% static 'smartfarm_page/assets/img/kid_page.jpg' %})">
+<body class="page" style="background-image: url({% static 'smartfarm_page/assets/img/kids2.png' %})">
 <!-- Navigation
     ==========================================-->
 <nav id="top-menu" class="navbar navbar-default navbar-fixed-top">
@@ -82,12 +82,12 @@
 </style>
 <!-- banner Page
     ==========================================-->
-<div id="page-banner" style="background-image: url({% static 'smartfarm_page/assets/img/kid_page1.jpg' %});">
+<div id="page-banner" style="background-image: url({% static 'smartfarm_page/assets/img/kids1.png' %});">
   <div class="content  wow fdeInUp">
     <div class="container ">
         <div style="float: center;">
             {% if not_exist %}
-            <h2 style="font-family: 'Jua', sans-serif;">잘못된 정보입니다. 다시 확인해주세요.</h2>
+            <h2 style="font-family: 'Jua', sans-serif; ">잘못된 정보입니다. 다시 확인해주세요.</h2>
             <h4><a href="{% url 'kids_pattern1'%}" ><img src="{% static 'smartfarm_page/assets/img/return.png' %}" width="40" height="40" alt=""></a></h4>
             <br><br><br>
             {% else %}
@@ -133,11 +133,16 @@
   </div>
 </div>
 <!--page body-->
+{% if N_pick_type == 'N' %}
+<h2 style=" text-align: center;font-family: 'Jua', sans-serif ;"><br><br><img src="{% static 'smartfarm_page/assets/img/search.png' %}" width="50" height="45" alt=""> 아이의 데이터를 확인하려면 데이터 유형을 선택하세요. <img src="{% static 'smartfarm_page/assets/img/search.png' %}" width="45" height="45" alt=""><br><br></h2>
+<h2 style=" text-align: center;font-family: 'Jua', sans-serif ;"><img src="{% static 'smartfarm_page/assets/img/report2.png' %}" width="500" height="450" alt=""></h2>
+{% elif N_pick_type == 'Y' %}
 <div class="container">
     <div class="row">
         <h3 style="color:#ebbf7a; font-size: 35px; font-weight: 600;font-family: 'Jua', sans-serif;">{{ pick }}</h3>
         <div class="jb-text"style=" padding: 30px 20px;">
             <center>
+
                 {% if days %}
                 <form action="{% url 'pick_date'%}" method="POST">
                     {% csrf_token %}
@@ -180,93 +185,117 @@
                     </div><br>
                     <div class="row mb-3"></div>
                 </form>
-                    {% endif %}
-                    {% if not_day %}
-                    <h3 >⚠️ 해당 날에는 데이터가 없습니다. 다시 확인해주세요. ⚠️</h3>
-                    <form action="{% url 'pick_date'%}" method="POST">
-                        {% csrf_token %}
-                        <div style="float: left; margin-right:padding:10px 0px; "><br><br>
+                {% endif %}
+
+                {% if not_day %}
+                <h3 >⚠️ 해당 날에는 데이터가 없습니다. 다시 확인해주세요. ⚠️</h3>
+                <form action="{% url 'pick_date'%}" method="POST">
+                    {% csrf_token %}
+                    <div style="float: left; margin-right:padding:10px 0px; "><br><br>
                         <label  style="font-size:15px; text-align:justify">1. 일별 : 날짜 선택 </label>
                         <input name="date_pick" type="date"  class="form-control"  min="2021-06-01" max="2022-02-18"  style="height:45px;width:120;font-size:15px; text-align:justify;" required>
-                        </div>
-                <div style="float: left; margin-right:20px; "><br><br><br><br>
-                    <button type="submit" class="btn btn-primary" style="border-top-left-radius:5px; border-bottom-left-radius:5px; border: 1px solid black; background-color: rgba(0,0,0,0); color: black; padding: 5px;">확인</button>
-                    <br><br>
-                </div><br><br><br><br><br><br><br>
-            </form>
-            {% endif %}
-                {% if Active %}
+                    </div>
+                    <div style="float: left; margin-right:20px; "><br><br><br><br>
+                        <button type="submit" class="btn btn-primary" style="border-top-left-radius:5px; border-bottom-left-radius:5px; border: 1px solid black; background-color: rgba(0,0,0,0); color: black; padding: 5px;">확인</button>
+                        <br><br>
+                    </div><br><br><br><br><br><br><br>
+                </form>
+                {% endif %}
+                {% if Active == 5 %}
                 <div class="flex-container"; style=" padding:0px 0px;">
-                        <div class="container px-xl-6 bg-center">
-                            <div class="col-sm-6">
-                                <div class="card shadow mb-4" style="border:0px;">
-                                    <div class="card-body">
-                                        <div class="chart-area">
-                                            <h2 style=" text-align: center;font-family: 'Jua', sans-serif ;"><img src="{% static 'smartfarm_page/assets/img/e4.png' %}" width="400" height="300" alt=""><br>활동량 : 다소 활동적</h2>
-                                        </div>
-                                    </div>
-                                </div>
-                            </div>
-                            <div class="col-sm-6" >
-                                <div class="card shadow mb-4"style="border:0px;">
-                                    <div class="card-body">
-                                        <div class="chart-area">
-                                            <h2 style="font-family: 'Jua', sans-serif;"><br><br><br>{{ name }}의 하루평균 심박수는 {{heartrate}}bp,<br> 하루 한시간평균 걸음수는 {{stepcount}}입니다.<br>비교적으로 {{ max_zsc }}에 활동량이 많으며 <br> {{ min_zsc }}에 활동량이 낮습니다. </h2>
-                                        </div>
-                                    </div>
-                                </div>
-                            </div>
-                        </div>
-                    </div>
-                {% elif inactive %}
+                    <div class="container px-xl-6 bg-center">
+                        <div class="col-sm-6">
+                            <div class="card shadow mb-4" style="border:0px;">
+                                <div class="card-body">
+                                    <div class="chart-area">
+                                        <h2 style=" text-align: center;font-family: 'Jua', sans-serif ;"><img src="{% static 'smartfarm_page/assets/img/e5.png' %}" width="480" height="300" alt=""><br>활동량 : 활동적</h2>
+                                    </div>
+                                </div>
+                            </div>
+                        </div>
+                        <div class="col-sm-6" >
+                            <div class="card shadow mb-4"style="border:0px;">
+                                <div class="card-body">
+                                    <div class="chart-area">
+                                        <h2 style="font-family: 'Jua', sans-serif;font-weight:500;"><br><br><br>{{ name }}의 하루평균 심박수는 {{heartrate}}bp,<br> 하루 한시간평균 걸음수는 {{stepcount}}입니다.<br>비교적으로 {{ max_zsc }}에 활동량이 많으며 <br> {{ min_zsc }}에 활동량이 낮습니다. </h2>
+                                    </div>
+                                </div>
+                            </div>
+                        </div>
+                    </div>
+                </div>
+                {% elif Active == 4 %}
                 <div class="flex-container"; style=" padding:0px 0px;">
-                        <div class="container px-xl-6 bg-center">
-                            <div class="col-sm-6">
-                                <div class="card shadow mb-4" style="border:0px;">
-                                    <div class="card-body">
-                                        <div class="chart-area">
-                                            <h2 style=" text-align: center;font-family: 'Jua', sans-serif ;"><img src="{% static 'smartfarm_page/assets/img/e2.png' %}" width="400" height="300" alt=""><br>활동량 : 다소 차분함</h2>
-                                        </div>
-                                    </div>
-                                </div>
-                            </div>
-                            <div class="col-sm-6" >
-                                <div class="card shadow mb-4"style="border:0px;">
-                                    <div class="card-body">
-                                        <div class="chart-area">
-                                            <h2 style="font-family: 'Jua', sans-serif;"><br><br><br>{{ name }}의 하루평균 심박수는 {{heartrate}}bp,<br> 하루 한시간평균 걸음수는 {{stepcount}}입니다.<br>비교적으로 {{ max_zsc }}에 활동량이 많으며 <br> {{ min_zsc }}에 활동량이 낮습니다. </h2>
-                                        </div>
-                                    </div>
-                                </div>
-                            </div>
-                        </div>
-                    </div>
-                {% elif normal %}
-                    <div class="flex-container"; style=" padding:0px 0px;">
-                        <div class="container px-xl-6 bg-center">
-                            <div class="col-sm-6">
-                                <div class="card shadow mb-4" style="border:0px;">
-                                    <div class="card-body">
-                                        <div class="chart-area">
-                                            <h2 style=" text-align: center;font-family: 'Jua', sans-serif ;"><img src="{% static 'smartfarm_page/assets/img/e3.png' %}" width="450" height="300" alt=""><br>활동량 : 평균</h2>
-                                        </div>
-                                    </div>
-                                </div>
-                            </div>
-                            <div class="col-sm-6" >
-                                <div class="card shadow mb-4"style="border:0px;">
-                                    <div class="card-body">
-                                        <div class="chart-area">
-                                            <h2 style="font-family: 'Jua', sans-serif;"><br><br><br>{{ name }}의 하루평균 심박수는 {{heartrate}}bp,<br> 하루 한시간평균 걸음수는 {{stepcount}}입니다.<br>비교적으로 {{ max_zsc }}에 활동량이 많으며 <br> {{ min_zsc }}에 활동량이 낮습니다. </h2>
-                                        </div>
+                    <div class="container px-xl-6 bg-center">
+                        <div class="col-sm-6">
+                            <div class="card shadow mb-4" style="border:0px;">
+                                <div class="card-body">
+                                    <div class="chart-area">
+                                        <h2 style=" text-align: center;font-family: 'Jua', sans-serif ;"><img src="{% static 'smartfarm_page/assets/img/e4.png' %}" width="480" height="300" alt=""><br>활동량 : 다소 활동적</h2>
+                                    </div>
+                                </div>
+                            </div>
+                        </div>
+                        <div class="col-sm-6" >
+                            <div class="card shadow mb-4"style="border:0px;">
+                                <div class="card-body">
+                                    <div class="chart-area">
+                                        <h2 style="font-family: 'Jua', sans-serif;font-weight:500;"><br><br><br>{{ name }}의 하루평균 심박수는 {{heartrate}}bp,<br> 하루 한시간평균 걸음수는 {{stepcount}}입니다.<br>비교적으로 {{ max_zsc }}에 활동량이 많으며 <br> {{ min_zsc }}에 활동량이 낮습니다. </h2>
+                                    </div>
+                                </div>
+                            </div>
+                        </div>
+                    </div>
+                </div>
+                {% elif Active == 1 %}
+                <div class="flex-container"; style=" padding:0px 0px;">
+                    <div class="container px-xl-6 bg-center">
+                        <div class="col-sm-6">
+                            <div class="card shadow mb-4" style="border:0px;">
+                                <div class="card-body">
+                                    <div class="chart-area">
+                                        <h2 style=" text-align: center;font-family: 'Jua', sans-serif ;"><img src="{% static 'smartfarm_page/assets/img/e2.png' %}" width="480" height="300" alt=""><br>활동량 : 다소 차분함</h2>
+                                    </div>
+                                </div>
+                            </div>
+                        </div>
+                        <div class="col-sm-6" >
+                            <div class="card shadow mb-4"style="border:0px;">
+                                <div class="card-body">
+                                    <div class="chart-area">
+                                        <h2 style="font-family: 'Jua', sans-serif;font-weight:500;"><br><br><br>{{ name }}의 하루평균 심박수는 {{heartrate}}bp,<br> 하루 한시간평균 걸음수는 {{stepcount}}입니다.<br>비교적으로 {{ max_zsc }}에 활동량이 많으며 <br> {{ min_zsc }}에 활동량이 낮습니다. </h2>
+                                    </div>
+                                </div>
+                            </div>
+                        </div>
+                    </div>
+                </div>
+                {% elif Active == 3 %}
+                <div class="flex-container"; style=" padding:0px 0px;">
+                    <div class="container px-xl-6 bg-center">
+                        <div class="col-sm-6">
+                            <div class="card shadow mb-4" style="border:0px;">
+                                <div class="card-body">
+                                    <div class="chart-area">
+                                        <h2 style=" text-align: center;font-family: 'Jua', sans-serif ;"><img src="{% static 'smartfarm_page/assets/img/e3.png' %}" width="480" height="300" alt=""><br>활동량 : 평균</h2>
+                                    </div>
+                                </div>
+                            </div>
+                        </div>
+                        <div class="col-sm-6" >
+                            <div class="card shadow mb-4"style="border:0px;">
+                                <div class="card-body">
+                                    <div class="chart-area">
+                                        <h2 style="font-family: 'Jua', sans-serif; font-weight:500;"><br><br><br>{{ name }} 어린이의 하루평균 심박수는 {{heartrate}}bp,<br> 하루 한시간평균 걸음수는 {{stepcount}}입니다.<br>비교적으로 {{ max_zsc }}에 활동량이 많으며 <br> {{ min_zsc }}에 활동량이 낮습니다. </h2>
                                     </div>
                                 </div>
                             </div>
                         </div>
                     </div>
+                </div>
                 {% endif %}
                 <div class="flex-container"; style=" padding:0px 0px;">
-                    <div class="container px-xl-6 bg-center">
+                    <div class="container px-xl-6 bg-light">
                         <div class="col-sm-6">
                             <div class="card shadow mb-4">
                                 <div class="card-header py-3">
@@ -320,7 +349,62 @@
                             </div>
                         </div>
                     </div>
+                </div><br><br>
+                <div class="flex-container"; style=" padding:0px 0px;">
+                    <div class="container px-xl-6 bg-light">
+                        <div class="col-sm-6">
+                            <div class="card shadow mb-4">
+                                <div class="card-body">
+                                    <div class="chart-area">
+                                        {% if sc_hr == 1 %}
+                                        <h2 style=" text-align: center;font-family: 'Jua', sans-serif ;"><img src="{% static 'smartfarm_page/assets/img/sc_hr_1.png' %}" width="460" height="350" alt="">
+                                        </h2>
+                                        <h2 style="font-family: 'Jua', sans-serif;">심박수 ⇧ &nbsp; 걸음수 ⇧</h2>
+                                        {% elif sc_hr == 2 %}
+                                        <h2 style=" text-align: center;font-family: 'Jua', sans-serif ;"><img src="{% static 'smartfarm_page/assets/img/sc_hr_2.png' %}" width="460" height="350" alt="">
+                                        </h2>
+                                        <h2 style="font-family: 'Jua', sans-serif;">심박수 ⇧ &nbsp; 걸음수 ⇩</h2>
+                                        {% elif sc_hr == 3 %}
+                                        <h2 style=" text-align: center;font-family: 'Jua', sans-serif ;"><img src="{% static 'smartfarm_page/assets/img/sc_hr_3.png' %}" width="460" height="350" alt="">
+                                        </h2>
+                                        <h2 style="font-family: 'Jua', sans-serif;">심박수 ⇩ &nbsp; 걸음수 ⇩</h2>
+                                        {% elif sc_hr == 4 %}
+                                        <h2 style=" text-align: center;font-family: 'Jua', sans-serif ;"><img src="{% static 'smartfarm_page/assets/img/sc_hr_4.png' %}" width="460" height="350" alt="">
+                                        </h2>
+                                        <h2 style="font-family: 'Jua', sans-serif;">심박수 ⇩ &nbsp; 걸음수 ⇧</h2>
+                                        {% endif %}
+                                    </div>
+                                </div>
+                            </div>
+                        </div>
+                        <div class="col-sm-6" >
+                            <div class="card shadow mb-4">
+                                <div class="card-body">
+                                    <div class="chart-area">
+                                        {% if cal_km == 1 %}
+                                        <h2 style=" text-align: center;font-family: 'Jua', sans-serif ;"><img src="{% static 'smartfarm_page/assets/img/cal_km_1.png' %}" width="460" height="350" alt="">
+                                        </h2>
+                                        <h2 style="font-family: 'Jua', sans-serif;">칼로리 ⇧ &nbsp; km ⇧</h2>
+                                        {% elif cal_km == 2 %}
+                                        <h2 style=" text-align: center;font-family: 'Jua', sans-serif ;"><img src="{% static 'smartfarm_page/assets/img/cal_km_2.png' %}" width="460" height="350" alt="">
+                                        </h2>
+                                        <h2 style="font-family: 'Jua', sans-serif;">칼로리 ⇧ &nbsp; km ⇩</h2>
+                                        {% elif cal_km == 3 %}
+                                        <h2 style=" text-align: center;font-family: 'Jua', sans-serif ;"><img src="{% static 'smartfarm_page/assets/img/cal_km_3.png' %}" width="460" height="350" alt="">
+                                        </h2>
+                                        <h2 style="font-family: 'Jua', sans-serif;">칼로리 ⇩ &nbsp; km ⇩</h2>
+                                        {% elif cal_km == 4 %}
+                                        <h2 style=" text-align: center;font-family: 'Jua', sans-serif ;"><img src="{% static 'smartfarm_page/assets/img/cal_km_4.png' %}" width="460" height="350" alt="">
+                                        </h2>
+                                        <h2 style="font-family: 'Jua', sans-serif;">칼로리 ⇩ &nbsp; km ⇧</h2>
+                                        {% endif %}
+                                    </div>
+                                </div>
+                            </div>
+                        </div>
+                    </div>
                 </div>
+           {% endif %}
 {% endif %}
                 <br><br><br>
                 <a href="/images/myw3schoolsimage.pdf" download="newfilename">Download the pdf &nbsp; <img src="{% static 'smartfarm_page/assets/img/down.png' %}" width="40" height="40" alt=""></a>
@@ -329,7 +413,7 @@
         </div>
     </div>
 </div>
-<footer class="footer bg-light" style="background-image: url({% static 'smartfarm_page/assets/img/kid_page3.jpg' %})">
+<footer class="footer bg-light" >
     <div class="row mb-5"></div>
     <br><br><br>
     <div class="container">
@@ -410,6 +494,29 @@
                     borderWidth: 1,
                     fill: false,
                     tension:0,
+                  },
+                  {
+                    data: {{ hr_kid_1mean }},
+                    label: '전체 평균(개인)',
+                    type : 'line',
+                    backgroundColor: '#FFE5FA',
+                    borderColor: '#FFE5FA',
+                    borderWidth: 4,
+                    pointRadius: 0,
+                    fill: false,
+                    tension:0,
+                  },
+                  {
+                    data: {{ hr_all_1mean }},
+                    label: '전체 평균(반)',
+                    type : 'line',
+                    pointStyle : 'line',
+                    pointRadius: 0,
+                    borderWidth: 4,
+                    backgroundColor: '#DAE4F2',
+                    borderColor: '#DAE4F2',
+                    fill: false,
+                    tension:0,
                   }
                 ]
               },
@@ -477,6 +584,28 @@
                     borderWidth: 1,
                     fill: false,
                     tension:0,
+                  },
+                  {
+                    data: {{ sc_kid_1mean }},
+                    label: '전체 평균(개인)',
+                    type : 'line',
+                    pointRadius: 0,
+                    backgroundColor: '#FFE5FA',
+                    borderColor: '#FFE5FA',
+                    borderWidth: 4,
+                    fill: false,
+                    tension:0,
+                  },
+                  {
+                    data: {{ sc_all_1mean }},
+                    label: '전체 평균(반)',
+                    type : 'line',
+                    pointRadius: 0,
+                    borderWidth: 4,
+                    fill: false,
+                    tension:0,
+                    backgroundColor: '#DAE4F2',
+                    borderColor: '#DAE4F2',
                   }
                 ]
               },
@@ -544,6 +673,28 @@
                     borderWidth: 1,
                     fill: false,
                     tension:0,
+                  },
+                  {
+                    data: {{ km_kid_1mean }},
+                    label: '전체 평균(개인)',
+                    type : 'line',
+                    pointRadius: 0,
+                    fill: false,
+                    tension:0,
+                    backgroundColor: '#FFE5FA',
+                    borderColor: '#FFE5FA',
+                    borderWidth: 4,
+                  },
+                  {
+                    data: {{ km_all_1mean }},
+                    label: '전체 평균(반)',
+                    type : 'line',
+                    pointRadius: 0,
+                    borderWidth: 4,
+                    fill: false,
+                    tension:0,
+                    backgroundColor: '#DAE4F2',
+                    borderColor: '#DAE4F2',
                   }
                 ]
               },
@@ -611,6 +762,28 @@
                     borderWidth: 1,
                     fill: false,
                     tension:0,
+                  },
+                  {
+                    data: {{ cal_kid_1mean }},
+                    label: '전체 평균(개인)',
+                    type : 'line',
+                    pointRadius: 0,
+                    fill: false,
+                    tension:0,
+                    backgroundColor: '#FFE5FA',
+                    borderColor: '#FFE5FA',
+                    borderWidth: 4,
+                  },
+                  {
+                    data: {{ cal_all_1mean }},
+                    label: '전체 평균(반)',
+                    type : 'line',
+                    borderWidth:4,
+                    pointRadius: 0,
+                    fill: false,
+                    tension:0,
+                    backgroundColor: '#DAE4F2',
+                    borderColor: '#DAE4F2',
                   }
                 ]
               },
diff --git python python
deleted file mode 100644
